{"version":3,"sources":["../node_modules/lodash/_baseUniq.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/uniq.js","../node_modules/lodash/_createSet.js","../node_modules/lodash/noop.js","../node_modules/lodash/uniqBy.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/property.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/sortBy.js","../node_modules/lodash/_baseOrderBy.js","../node_modules/lodash/_baseMap.js","../node_modules/lodash/_baseEach.js","../node_modules/lodash/_baseForOwn.js","../node_modules/lodash/_createBaseEach.js","../node_modules/lodash/_baseSortBy.js","../node_modules/lodash/_compareMultiple.js","../node_modules/lodash/_compareAscending.js","../node_modules/lodash/isDate.js","../node_modules/lodash/_baseIsDate.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../src/compute.ts","../../src/svg/LegendSvgItem.tsx","../../src/svg/symbols/SymbolCircle.tsx","../../src/svg/symbols/SymbolDiamond.tsx","../../src/svg/symbols/SymbolSquare.tsx","../../src/svg/symbols/SymbolTriangle.tsx","../../src/svg/LegendSvg.tsx","../../src/svg/BoxLegendSvg.tsx","../../src/canvas.ts","../../src/props.ts","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-array/src/range.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-scale/src/time.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcMinute.js","../../src/linearScale.js","../../src/logScale.js","../../src/symlogScale.js","../../src/pointScale.js","../../src/timeHelpers.js","../../src/timeScale.js","../node_modules/d3-scale/src/utcTime.js","../../src/bandScale.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../src/compute.js","../../src/index.js","../node_modules/delaunator/index.js","../node_modules/d3-delaunay/src/path.js","../node_modules/d3-delaunay/src/polygon.js","../node_modules/d3-delaunay/src/voronoi.js","../node_modules/d3-delaunay/src/delaunay.js","../../src/computeMesh.ts","../../src/hooks.ts","../../src/Mesh.tsx","../../src/PointTooltip.js","../../src/SliceTooltip.js","../../src/props.js","../../src/hooks.js","../node_modules/d3-shape/src/area.js","../../src/Areas.js","../../src/LinesItem.js","../../src/Lines.js","../../src/SlicesItem.js","../../src/Slices.js","../../src/Points.js","../../src/Mesh.js","../../src/Line.js","../../src/ResponsiveLine.js","../../src/LineCanvas.js","../../src/meshCanvas.ts","../../src/ResponsiveLineCanvas.js"],"names":["SetCache","require","arrayIncludes","arrayIncludesWith","cacheHas","createSet","setToArray","module","exports","array","iteratee","comparator","index","includes","length","isCommon","result","seen","set","outer","value","computed","seenIndex","push","baseMatches","baseMatchesProperty","identity","isArray","property","isObject","key","srcValue","object","undefined","Object","baseUniq","Set","noop","values","baseIteratee","baseIsMatch","getMatchData","matchesStrictComparable","source","matchData","Stack","baseIsEqual","customizer","noCustomizer","data","objValue","stack","COMPARE_PARTIAL_FLAG","isStrictComparable","keys","get","hasIn","isKey","toKey","path","baseProperty","basePropertyDeep","baseGet","baseFlatten","baseOrderBy","baseRest","isIterateeCall","sortBy","collection","iteratees","arrayMap","baseMap","baseSortBy","baseUnary","compareMultiple","orders","other","baseEach","isArrayLike","Array","baseForOwn","createBaseEach","baseFor","eachFunc","fromRight","iterable","comparer","sort","compareAscending","objCriteria","criteria","othCriteria","ordersLength","isSymbol","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","baseIsDate","nodeUtil","nodeIsDate","isDate","baseGetTag","isObjectLike","_defineProperty","obj","defineProperty","enumerable","configurable","writable","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","target","i","arguments","forEach","getOwnPropertyDescriptors","defineProperties","_arrayLikeToArray","arr","len","arr2","_slicedToArray","arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","iterableToArrayLimit","o","minLen","arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","from","test","unsupportedIterableToArray","TypeError","nonIterableRest","zeroPadding","top","right","bottom","left","computeDimensions","direction","itemsSpacing","_padding","padding","itemCount","itemWidth","itemHeight","item","Error","horizontalPadding","verticalPadding","width","height","spacing","computePositionFromAnchor","anchor","translateX","translateY","containerWidth","containerHeight","x","y","computeItemLayout","justify","symbolSize","symbolSpacing","symbolX","symbolY","labelY","labelAlignment","labelX","labelAnchor","symbolByShape","circle","size","fill","borderWidth","borderColor","r","cx","cy","strokeWidth","stroke","style","pointerEvents","diamond","transform","d","square","triangle","LegendSvgItem","textColor","background","opacity","symbolShape","symbolBorderWidth","symbolBorderColor","onClick","onMouseEnter","onMouseLeave","effects","useState","setStyle","theme","useTheme","handleMouseEnter","useCallback","effect","handleMouseLeave","isInteractive","handler","SymbolShape","cursor","event","id","textAnchor","dominantBaseline","userSelect","LegendSvg","itemDirection","itemTextColor","itemBackground","itemOpacity","xStep","yStep","BoxLegendSvg","textAlignMapping","start","middle","end","LegendPropShape","PropTypes","label","color","string","on","isRequired","pi","Math","PI","tau","epsilon","tauEpsilon","Path","this","_x0","_y0","_x1","_y1","_","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","x0","y0","x21","y21","x01","y01","l01_2","abs","x20","y20","l21_2","l20_2","l21","sqrt","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","rect","w","h","p","pointX","pointY","defined","constant","context","curve","curveLinear","output","line","buffer","defined0","lineStart","lineEnd","point","stop","step","max","ceil","range","band","bandwidth","scale","ordinal","unknown","domain","ordinalRange","r0","r1","round","paddingInner","paddingOuter","align","rescale","reverse","floor","sequence","map","rangeRound","min","copy","initRange","pointish","t0","Date","t1","newInterval","floori","offseti","count","field","interval","date","d0","d1","offset","previous","setTime","every","isFinite","year","setMonth","setHours","setFullYear","getFullYear","k","month","setDate","getMonth","durationSecond","durationMinute","durationHour","durationDay","durationWeek","weekday","getDate","getDay","getTimezoneOffset","sunday","monday","tuesday","wednesday","thursday","friday","saturday","day","hour","getMilliseconds","getSeconds","getMinutes","getHours","minute","second","getUTCSeconds","millisecond","durationMonth","durationYear","t","number","calendar","week","format","continuous","invert","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","tickIntervals","tickFormat","tickInterval","bisector","tickStep","ticks","specifier","nice","utcYear","setUTCMonth","setUTCHours","setUTCFullYear","getUTCFullYear","utcMonth","setUTCDate","getUTCMonth","utcWeekday","getUTCDate","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcDay","utcHour","setUTCMinutes","getUTCHours","utcMinute","setUTCSeconds","getUTCMinutes","linearScalePropTypes","type","stacked","clamp","logScalePropTypes","base","symLogScalePropTypes","pointScale","axis","xy","scalePoint","pointScalePropTypes","TIME_PRECISION_MILLISECOND","TIME_PRECISION_SECOND","TIME_PRECISION_MINUTE","TIME_PRECISION_HOUR","TIME_PRECISION_MONTH","TIME_PRECISION_YEAR","timePrecisions","precisionCutOffs","precisionCutOffsByType","createDateNormalizer","precision","useUTC","precisionFn","cutOff","createPrecisionMethod","v","parseTime","utcParse","timeParse","timeScale","normalize","minValue","maxValue","utcWeek","utcSecond","utcMillisecond","utcFormat","UTC","scaleUtc","timeYear","timeMonth","timeWeek","timeDay","timeHour","timeMinute","timeSecond","timeMillisecond","timeFormat","scaleTime","timeScalePropTypes","bandScalePropTypes","bool","_toConsumableArray","arrayWithoutHoles","iter","iterableToArray","nonIterableSpread","getOtherAxis","compareValues","a","b","compareDateValues","computeScale","spec","scaleLinear","linearScale","hasZero","hasMixedSign","sign","scaleLog","logScale","scaleSymlog","symlogScale","generateSeriesXY","series","xScaleSpec","yScaleSpec","generateSeriesAxis","getValue","setValue","scaleSpec","serie","parseFloat","all","uniq","uniqBy","last","stackAxis","otherType","otherAxis","compare","datum","stackValue","head","stackX","stackY","scalePropType","EPSILON","pow","EDGE_STACK","Uint32Array","Delaunator","coords","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","_hullPrev","_hullNext","_hullTri","_hullHash","_ids","_dists","Float64Array","update","hullPrev","hullNext","hullTri","hullHash","minX","Infinity","minY","maxX","maxY","i0","i1","i2","minDist","dist","i0x","i0y","i1x","i1y","minRadius","circumradius","i2x","i2y","quicksort","hull","j","subarray","triangles","halfedges","orient","center","ax","ay","bx","by","ex","ey","bl","cl","circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","e","q","_legalize","pseudoAngle","ar","b0","al","p0","pr","pl","p1","inCircle","hbl","_link","br","c","points","getX","defaultGetX","getY","defaultGetY","orientIfSure","px","py","rx","ry","qx","qy","fx","fy","bp","cp","ids","dists","temp","tempDist","swap","tmp","Polygon","Voronoi","delaunay","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","circumcenters","t2","t3","x3","y3","ab","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","h0","h1","_project","_clip","cell","cellPolygon","polygon","renderCell","S","c0","_regioncode","c1","_clipSegment","_step","ci","neighbors","cj","ai","li","aj","lj","e0","_cell","V","_clipInfinite","_clipFinite","e1","P","sx0","sy0","sx1","sy1","_edgecode","_edge","contains","vx0","vy0","vxn","vyn","unshift","splice","vx","vy","flatIterable","jitter","Delaunay","_delaunator","_hullIndex","collinear","f","bounds","hypot","hullIndex","indexOf","dc","dt","renderHull","trianglePolygon","renderTriangle","that","flatArray","getAccessor","directive","useVoronoiMesh","debug","points2d","useMemo","computeMeshPoints","voronoi","computeMesh","Mesh","nodes","onMouseMove","elementRef","useRef","currentIndex","setCurrentIndex","voronoiPath","getIndexAndNodeFromEvent","getRelativeCursor","node","handleMouseMove","previousNode","handleClick","ref","memo","enableChip","serieColor","rows","chip","tableCellValue","commonPropTypes","xScale","xFormat","yScale","yFormat","layers","lineCurvePropType","axisTop","axisRight","axisBottom","axisLeft","enableGridX","enableGridY","gridXValues","gridYValues","enablePoints","pointSymbol","pointSize","pointColor","pointBorderWidth","pointBorderColor","enablePointLabel","pointLabel","markers","colors","ordinalColorsPropType","enableArea","areaOpacity","areaBlendMode","blendModePropType","areaBaselineValue","lineWidth","legends","debugMesh","tooltip","enableSlices","debugSlices","sliceTooltip","enableCrosshair","crosshairType","commonDefaultProps","role","useMesh","pixelRatio","scheme","LineDefaultProps","animate","motionConfig","defs","LineCanvasDefaultProps","window","useAreaGenerator","area","x0z","y0z","areaStart","areaEnd","arealine","lineX0","lineY0","lineY1","lineX1","curveFromProp","useLine","enableSlicesTooltip","formatX","useValueFormatter","formatY","getColor","useOrdinalColorScale","getPointColor","useInheritedColor","getPointBorderColor","_series","computeXYScalesForSeries","rawSeries","acc","serieId","xFormatted","yFormatted","usePoints","slices","slicePoints","prevSlice","nextSlice","sliceWidth","sliceHeight","useSlices","lineGenerator","useLineGenerator","areaGenerator","AreaPath","useMotionConfig","springConfig","animatedPath","useAnimatedPath","animatedProps","useSpring","config","immediate","fillOpacity","mixBlendMode","computedLines","lines","thickness","isCurrent","setCurrent","useTooltip","showTooltipFromEvent","hideTooltip","strokeOpacity","current","symbol","enableLabel","labelYOffset","getLabel","getLabelGenerator","mappedPoints","margin","showTooltipAt","Line","props","partialMargin","pointLabelYOffset","useDimensions","innerWidth","innerHeight","outerWidth","outerHeight","currentPoint","setCurrentPoint","currentSlice","setCurrentSlice","legendData","layerById","grid","xValues","yValues","axes","areas","crosshair","mesh","legend","boundDefs","bindDefs","layer","withContainer","ResponsiveLine","LineCanvas","canvasRef","canvasEl","useEffect","ctx","renderGridLinesToCanvas","renderAxesToCanvas","renderVoronoiToCanvas","renderVoronoiCellToCanvas","itemX","itemY","String","renderLegendToCanvas","getPointFromMouseEvent","isCursorInRect","pointIndex","handleMouseHover","LineCanvasWithContainer","forwardRef"],"mappings":"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","file":"static/js/5.161f2e0f.chunk.js","sourcesContent":["var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var baseFlatten = require('./_baseFlatten'),\n    baseOrderBy = require('./_baseOrderBy'),\n    baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 30 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nmodule.exports = sortBy;\n","var arrayMap = require('./_arrayMap'),\n    baseGet = require('./_baseGet'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  if (iteratees.length) {\n    iteratees = arrayMap(iteratees, function(iteratee) {\n      if (isArray(iteratee)) {\n        return function(value) {\n          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n        }\n      }\n      return iteratee;\n    });\n  } else {\n    iteratees = [identity];\n  }\n\n  var index = -1;\n  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var baseIsDate = require('./_baseIsDate'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsDate = nodeUtil && nodeUtil.isDate;\n\n/**\n * Checks if `value` is classified as a `Date` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n * @example\n *\n * _.isDate(new Date);\n * // => true\n *\n * _.isDate('Mon April 23 2012');\n * // => false\n */\nvar isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\nmodule.exports = isDate;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar dateTag = '[object Date]';\n\n/**\n * The base implementation of `_.isDate` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n */\nfunction baseIsDate(value) {\n  return isObjectLike(value) && baseGetTag(value) == dateTag;\n}\n\nmodule.exports = baseIsDate;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { BoxLegendSvgProps, LegendAnchor, LegendItemDirection } from './types'\n\nconst isObject = <T>(item: unknown): item is T =>\n    typeof item === 'object' && !Array.isArray(item) && item !== null\n\nconst zeroPadding = {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n}\n\nexport const computeDimensions = ({\n    direction,\n    itemsSpacing,\n    padding: _padding,\n    itemCount,\n    itemWidth,\n    itemHeight,\n}: Pick<BoxLegendSvgProps, 'direction' | 'padding'> &\n    Record<'itemsSpacing' | 'itemCount' | 'itemWidth' | 'itemHeight', number>) => {\n    if (typeof _padding !== 'number' && !isObject(_padding)) {\n        throw new Error('Invalid property padding, must be one of: number, object')\n    }\n\n    const padding =\n        typeof _padding === 'number'\n            ? {\n                  top: _padding,\n                  right: _padding,\n                  bottom: _padding,\n                  left: _padding,\n              }\n            : {\n                  ...zeroPadding,\n                  ..._padding,\n              }\n\n    const horizontalPadding = padding.left + padding.right\n    const verticalPadding = padding.top + padding.bottom\n    let width = itemWidth + horizontalPadding\n    let height = itemHeight + verticalPadding\n    const spacing = (itemCount - 1) * itemsSpacing\n    if (direction === 'row') {\n        width = itemWidth * itemCount + spacing + horizontalPadding\n    } else if (direction === 'column') {\n        height = itemHeight * itemCount + spacing + verticalPadding\n    }\n\n    return { width, height, padding }\n}\n\nexport const computePositionFromAnchor = ({\n    anchor,\n    translateX,\n    translateY,\n    containerWidth,\n    containerHeight,\n    width,\n    height,\n}: { anchor: LegendAnchor } & Record<\n    'translateX' | 'translateY' | 'containerWidth' | 'containerHeight' | 'width' | 'height',\n    number\n>) => {\n    let x = translateX\n    let y = translateY\n\n    switch (anchor) {\n        case 'top':\n            x += (containerWidth - width) / 2\n            break\n\n        case 'top-right':\n            x += containerWidth - width\n            break\n\n        case 'right':\n            x += containerWidth - width\n            y += (containerHeight - height) / 2\n            break\n\n        case 'bottom-right':\n            x += containerWidth - width\n            y += containerHeight - height\n            break\n\n        case 'bottom':\n            x += (containerWidth - width) / 2\n            y += containerHeight - height\n            break\n\n        case 'bottom-left':\n            y += containerHeight - height\n            break\n\n        case 'left':\n            y += (containerHeight - height) / 2\n            break\n\n        case 'center':\n            x += (containerWidth - width) / 2\n            y += (containerHeight - height) / 2\n            break\n    }\n\n    return { x, y }\n}\n\nexport const computeItemLayout = ({\n    direction,\n    justify,\n    symbolSize,\n    symbolSpacing,\n    width,\n    height,\n}: {\n    direction: LegendItemDirection\n    justify: boolean\n} & Record<'symbolSize' | 'symbolSpacing' | 'width' | 'height', number>) => {\n    let symbolX\n    let symbolY\n\n    let labelX\n    let labelY\n    let labelAnchor: 'start' | 'middle' | 'end'\n    let labelAlignment: 'alphabetic' | 'central' | 'text-before-edge'\n\n    switch (direction) {\n        case 'left-to-right':\n            symbolX = 0\n            symbolY = (height - symbolSize) / 2\n\n            labelY = height / 2\n            labelAlignment = 'central'\n            if (justify === true) {\n                labelX = width\n                labelAnchor = 'end'\n            } else {\n                labelX = symbolSize + symbolSpacing\n                labelAnchor = 'start'\n            }\n            break\n\n        case 'right-to-left':\n            symbolX = width - symbolSize\n            symbolY = (height - symbolSize) / 2\n\n            labelY = height / 2\n            labelAlignment = 'central'\n            if (justify === true) {\n                labelX = 0\n                labelAnchor = 'start'\n            } else {\n                labelX = width - symbolSize - symbolSpacing\n                labelAnchor = 'end'\n            }\n            break\n\n        case 'top-to-bottom':\n            symbolX = (width - symbolSize) / 2\n            symbolY = 0\n\n            labelX = width / 2\n\n            labelAnchor = 'middle'\n            if (justify === true) {\n                labelY = height\n                labelAlignment = 'alphabetic'\n            } else {\n                labelY = symbolSize + symbolSpacing\n                labelAlignment = 'text-before-edge'\n            }\n            break\n\n        case 'bottom-to-top':\n            symbolX = (width - symbolSize) / 2\n            symbolY = height - symbolSize\n\n            labelX = width / 2\n            labelAnchor = 'middle'\n            if (justify === true) {\n                labelY = 0\n                labelAlignment = 'text-before-edge'\n            } else {\n                labelY = height - symbolSize - symbolSpacing\n                labelAlignment = 'alphabetic'\n            }\n            break\n    }\n\n    return {\n        symbolX,\n        symbolY,\n\n        labelX,\n        labelY,\n        labelAnchor,\n        labelAlignment,\n    }\n}\n","import React, { useState, useCallback } from 'react'\nimport { useTheme } from '@nivo/core'\nimport { LegendSvgItemProps } from '../types'\nimport { computeItemLayout } from '../compute'\nimport { SymbolCircle, SymbolDiamond, SymbolSquare, SymbolTriangle } from './symbols'\n\ntype Style = Partial<{\n    itemBackground: string\n    itemOpacity: number\n    itemTextColor: string\n    symbolBorderColor: string\n    symbolBorderWidth: number\n    symbolSize: number\n}>\n\nconst symbolByShape = {\n    circle: SymbolCircle,\n    diamond: SymbolDiamond,\n    square: SymbolSquare,\n    triangle: SymbolTriangle,\n}\n\nexport const LegendSvgItem = ({\n    x,\n    y,\n    width,\n    height,\n    data,\n    direction = 'left-to-right',\n    justify = false,\n    textColor,\n    background = 'transparent',\n    opacity = 1,\n\n    symbolShape = 'square',\n    symbolSize = 16,\n    symbolSpacing = 8,\n    symbolBorderWidth = 0,\n    symbolBorderColor = 'transparent',\n\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n\n    effects,\n}: LegendSvgItemProps) => {\n    const [style, setStyle] = useState<Style>({})\n    const theme = useTheme()\n\n    const handleMouseEnter = useCallback(\n        (event: React.MouseEvent<SVGRectElement>) => {\n            if (effects) {\n                const applyEffects = effects.filter(({ on }) => on === 'hover')\n                const style = applyEffects.reduce(\n                    (acc, effect) => ({\n                        ...acc,\n                        ...effect.style,\n                    }),\n                    {}\n                )\n                setStyle(style)\n            }\n\n            onMouseEnter?.(data, event)\n        },\n        [onMouseEnter, data, effects]\n    )\n    const handleMouseLeave = useCallback(\n        (event: React.MouseEvent<SVGRectElement>) => {\n            if (effects) {\n                const applyEffects = effects.filter(({ on }) => on !== 'hover')\n                const style = applyEffects.reduce(\n                    (acc, effect) => ({\n                        ...acc,\n                        ...effect.style,\n                    }),\n                    {}\n                )\n                setStyle(style)\n            }\n\n            onMouseLeave?.(data, event)\n        },\n        [onMouseLeave, data, effects]\n    )\n\n    const { symbolX, symbolY, labelX, labelY, labelAnchor, labelAlignment } = computeItemLayout({\n        direction,\n        justify,\n        symbolSize: style.symbolSize ?? symbolSize,\n        symbolSpacing,\n        width,\n        height,\n    })\n\n    const isInteractive = [onClick, onMouseEnter, onMouseLeave].some(\n        handler => handler !== undefined\n    )\n\n    const SymbolShape = typeof symbolShape === 'function' ? symbolShape : symbolByShape[symbolShape]\n\n    return (\n        <g\n            transform={`translate(${x},${y})`}\n            style={{\n                opacity: style.itemOpacity ?? opacity,\n            }}\n        >\n            <rect\n                width={width}\n                height={height}\n                fill={style.itemBackground ?? background}\n                style={{\n                    cursor: isInteractive ? 'pointer' : 'auto',\n                }}\n                onClick={event => {\n                    onClick?.(data, event)\n                }}\n                onMouseEnter={handleMouseEnter}\n                onMouseLeave={handleMouseLeave}\n            />\n            {React.createElement(SymbolShape, {\n                id: data.id,\n                x: symbolX,\n                y: symbolY,\n                size: style.symbolSize ?? symbolSize,\n                fill: data.fill ?? data.color ?? 'black',\n                borderWidth: style.symbolBorderWidth ?? symbolBorderWidth,\n                borderColor: style.symbolBorderColor ?? symbolBorderColor,\n            })}\n            <text\n                textAnchor={labelAnchor}\n                style={{\n                    ...theme.legends.text,\n                    fill: style.itemTextColor ?? textColor ?? theme.legends.text.fill ?? 'black',\n                    dominantBaseline: labelAlignment,\n                    pointerEvents: 'none',\n                    userSelect: 'none',\n                }}\n                x={labelX}\n                y={labelY}\n            >\n                {data.label}\n            </text>\n        </g>\n    )\n}\n","import React from 'react'\nimport { SymbolProps } from './types'\n\nexport const SymbolCircle = ({\n    x,\n    y,\n    size,\n    fill,\n    borderWidth = 0,\n    borderColor = 'transparent',\n}: SymbolProps) => {\n    return (\n        <circle\n            r={size / 2}\n            cx={x + size / 2}\n            cy={y + size / 2}\n            fill={fill}\n            strokeWidth={borderWidth}\n            stroke={borderColor}\n            style={{\n                pointerEvents: 'none',\n            }}\n        />\n    )\n}\n","import React from 'react'\nimport { SymbolProps } from './types'\n\nexport const SymbolDiamond = ({\n    x,\n    y,\n    size,\n    fill,\n    borderWidth = 0,\n    borderColor = 'transparent',\n}: SymbolProps) => {\n    return (\n        <g transform={`translate(${x},${y})`}>\n            <path\n                d={`\n                    M${size / 2} 0\n                    L${size * 0.8} ${size / 2}\n                    L${size / 2} ${size}\n                    L${size * 0.2} ${size / 2}\n                    L${size / 2} 0\n                `}\n                fill={fill}\n                strokeWidth={borderWidth}\n                stroke={borderColor}\n                style={{\n                    pointerEvents: 'none',\n                }}\n            />\n        </g>\n    )\n}\n","import React from 'react'\nimport { SymbolProps } from './types'\n\nexport const SymbolSquare = ({\n    x,\n    y,\n    size,\n    fill,\n    borderWidth = 0,\n    borderColor = 'transparent',\n}: SymbolProps) => {\n    return (\n        <rect\n            x={x}\n            y={y}\n            fill={fill}\n            strokeWidth={borderWidth}\n            stroke={borderColor}\n            width={size}\n            height={size}\n            style={{\n                pointerEvents: 'none',\n            }}\n        />\n    )\n}\n","import React from 'react'\nimport { SymbolProps } from './types'\n\nexport const SymbolTriangle = ({\n    x,\n    y,\n    size,\n    fill,\n    borderWidth = 0,\n    borderColor = 'transparent',\n}: SymbolProps) => {\n    return (\n        <g transform={`translate(${x},${y})`}>\n            <path\n                d={`\n                M${size / 2} 0\n                L${size} ${size}\n                L0 ${size}\n                L${size / 2} 0\n            `}\n                fill={fill}\n                strokeWidth={borderWidth}\n                stroke={borderColor}\n                style={{\n                    pointerEvents: 'none',\n                }}\n            />\n        </g>\n    )\n}\n","import React from 'react'\nimport { LegendSvgItem } from './LegendSvgItem'\nimport { LegendSvgProps } from '../types'\nimport { computeDimensions } from '../compute'\n\nexport const LegendSvg = ({\n    data,\n\n    x,\n    y,\n    direction,\n    padding: _padding = 0,\n    justify,\n    effects,\n\n    itemWidth,\n    itemHeight,\n    itemDirection = 'left-to-right',\n    itemsSpacing = 0,\n    itemTextColor,\n    itemBackground = 'transparent',\n    itemOpacity = 1,\n\n    symbolShape,\n    symbolSize,\n    symbolSpacing,\n    symbolBorderWidth,\n    symbolBorderColor,\n\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n}: LegendSvgProps) => {\n    const { padding } = computeDimensions({\n        itemCount: data.length,\n        itemWidth,\n        itemHeight,\n        itemsSpacing,\n        direction,\n        padding: _padding,\n    })\n\n    const xStep = direction === 'row' ? itemWidth + itemsSpacing : 0\n    const yStep = direction === 'column' ? itemHeight + itemsSpacing : 0\n\n    return (\n        <g transform={`translate(${x},${y})`}>\n            {data.map((data, i) => (\n                <LegendSvgItem\n                    key={i}\n                    data={data}\n                    x={i * xStep + padding.left}\n                    y={i * yStep + padding.top}\n                    width={itemWidth}\n                    height={itemHeight}\n                    direction={itemDirection}\n                    justify={justify}\n                    effects={effects}\n                    textColor={itemTextColor}\n                    background={itemBackground}\n                    opacity={itemOpacity}\n                    symbolShape={symbolShape}\n                    symbolSize={symbolSize}\n                    symbolSpacing={symbolSpacing}\n                    symbolBorderWidth={symbolBorderWidth}\n                    symbolBorderColor={symbolBorderColor}\n                    onClick={onClick}\n                    onMouseEnter={onMouseEnter}\n                    onMouseLeave={onMouseLeave}\n                />\n            ))}\n        </g>\n    )\n}\n","import React from 'react'\nimport { LegendSvg } from './LegendSvg'\nimport { BoxLegendSvgProps } from '../types'\nimport { computeDimensions, computePositionFromAnchor } from '../compute'\n\nexport const BoxLegendSvg = ({\n    data,\n\n    containerWidth,\n    containerHeight,\n    translateX = 0,\n    translateY = 0,\n    anchor,\n    direction,\n    padding = 0,\n    justify,\n\n    itemsSpacing = 0,\n    itemWidth,\n    itemHeight,\n    itemDirection,\n    itemTextColor,\n    itemBackground,\n    itemOpacity,\n\n    symbolShape,\n    symbolSize,\n    symbolSpacing,\n    symbolBorderWidth,\n    symbolBorderColor,\n\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n\n    effects,\n}: BoxLegendSvgProps) => {\n    const { width, height } = computeDimensions({\n        itemCount: data.length,\n        itemsSpacing,\n        itemWidth,\n        itemHeight,\n        direction,\n        padding,\n    })\n\n    const { x, y } = computePositionFromAnchor({\n        anchor,\n        translateX,\n        translateY,\n        containerWidth,\n        containerHeight,\n        width,\n        height,\n    })\n\n    return (\n        <LegendSvg\n            data={data}\n            x={x}\n            y={y}\n            direction={direction}\n            padding={padding}\n            justify={justify}\n            effects={effects}\n            itemsSpacing={itemsSpacing}\n            itemWidth={itemWidth}\n            itemHeight={itemHeight}\n            itemDirection={itemDirection}\n            itemTextColor={itemTextColor}\n            itemBackground={itemBackground}\n            itemOpacity={itemOpacity}\n            symbolShape={symbolShape}\n            symbolSize={symbolSize}\n            symbolSpacing={symbolSpacing}\n            symbolBorderWidth={symbolBorderWidth}\n            symbolBorderColor={symbolBorderColor}\n            onClick={onClick}\n            onMouseEnter={onMouseEnter}\n            onMouseLeave={onMouseLeave}\n        />\n    )\n}\n","import { computeDimensions, computePositionFromAnchor, computeItemLayout } from './compute'\nimport { LegendCanvasProps } from './types'\n\nconst textAlignMapping = {\n    start: 'left',\n    middle: 'center',\n    end: 'right',\n} as const\n\nexport const renderLegendToCanvas = (\n    ctx: CanvasRenderingContext2D,\n    {\n        data,\n\n        containerWidth,\n        containerHeight,\n        translateX = 0,\n        translateY = 0,\n        anchor,\n        direction,\n        padding: _padding = 0,\n        justify = false,\n\n        // items\n        itemsSpacing = 0,\n        itemWidth,\n        itemHeight,\n        itemDirection = 'left-to-right',\n        itemTextColor,\n\n        // symbol\n        symbolSize = 16,\n        symbolSpacing = 8,\n        // @todo add support for shapes\n        // symbolShape = LegendSvgItem.defaultProps.symbolShape,\n\n        theme,\n    }: LegendCanvasProps\n) => {\n    const { width, height, padding } = computeDimensions({\n        itemCount: data.length,\n        itemWidth,\n        itemHeight,\n        itemsSpacing,\n        direction,\n        padding: _padding,\n    })\n\n    const { x, y } = computePositionFromAnchor({\n        anchor,\n        translateX,\n        translateY,\n        containerWidth,\n        containerHeight,\n        width,\n        height,\n    })\n\n    const xStep = direction === 'row' ? itemWidth + itemsSpacing : 0\n    const yStep = direction === 'column' ? itemHeight + itemsSpacing : 0\n\n    ctx.save()\n    ctx.translate(x, y)\n\n    ctx.font = `${theme.legends.text.fontSize}px ${theme.legends.text.fontFamily || 'sans-serif'}`\n\n    data.forEach((d, i) => {\n        const itemX = i * xStep + padding.left\n        const itemY = i * yStep + padding.top\n\n        const { symbolX, symbolY, labelX, labelY, labelAnchor, labelAlignment } = computeItemLayout(\n            {\n                direction: itemDirection,\n                justify,\n                symbolSize,\n                symbolSpacing,\n                width: itemWidth,\n                height: itemHeight,\n            }\n        )\n\n        ctx.fillStyle = d.color ?? 'black'\n        ctx.fillRect(itemX + symbolX, itemY + symbolY, symbolSize, symbolSize)\n\n        ctx.textAlign = textAlignMapping[labelAnchor]\n\n        if (labelAlignment === 'central') {\n            ctx.textBaseline = 'middle'\n        }\n\n        ctx.fillStyle = itemTextColor ?? theme.legends.text.fill ?? 'black'\n        ctx.fillText(String(d.label), itemX + labelX, itemY + labelY)\n    })\n\n    ctx.restore()\n}\n","import { VoronoiDomain, VoronoiLayer } from './types'\n\nexport const defaultVoronoiProps = {\n    xDomain: [0, 1] as VoronoiDomain,\n    yDomain: [0, 1] as VoronoiDomain,\n    layers: ['links', 'cells', 'points', 'bounds'] as VoronoiLayer[],\n    enableLinks: false,\n    linkLineWidth: 1,\n    linkLineColor: '#bbbbbb',\n    enableCells: true,\n    cellLineWidth: 2,\n    cellLineColor: '#000000',\n    enablePoints: true,\n    pointSize: 4,\n    pointColor: '#666666',\n    role: 'img',\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target),\n          step;\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n      return interval.every(step);\n    }\n\n    return interval;\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1]))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { scaleLinear } from 'd3-scale'\nimport PropTypes from 'prop-types'\n\nexport const linearScale = (\n    { axis, min = 0, max = 'auto', stacked = false, reverse = false, clamp = false, nice = false },\n    xy,\n    width,\n    height\n) => {\n    const values = xy[axis]\n    const size = axis === 'x' ? width : height\n\n    let minValue = min\n    if (min === 'auto') {\n        minValue = stacked === true ? values.minStacked : values.min\n    }\n    let maxValue = max\n    if (max === 'auto') {\n        maxValue = stacked === true ? values.maxStacked : values.max\n    }\n\n    const scale = scaleLinear().rangeRound(axis === 'x' ? [0, size] : [size, 0])\n\n    if (reverse === true) scale.domain([maxValue, minValue])\n    else scale.domain([minValue, maxValue])\n\n    if (nice === true) scale.nice()\n    else if (typeof nice === 'number') scale.nice(nice)\n\n    scale.type = 'linear'\n    scale.stacked = stacked\n    scale.clamp(clamp)\n\n    return scale\n}\n\nexport const linearScalePropTypes = {\n    type: PropTypes.oneOf(['linear']).isRequired,\n    min: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n    max: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n    stacked: PropTypes.bool,\n    reverse: PropTypes.bool,\n    clamp: PropTypes.bool,\n    nice: PropTypes.oneOfType([PropTypes.number, PropTypes.bool]),\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { scaleLog } from 'd3-scale'\nimport PropTypes from 'prop-types'\n\nexport const logScale = ({ axis, base = 10, min = 'auto', max = 'auto' }, xy, width, height) => {\n    const values = xy[axis]\n    const size = axis === 'x' ? width : height\n\n    const hasZero = values.all.some(v => v === 0)\n    let sign\n    let hasMixedSign = false\n    values.all\n        .filter(v => v != null)\n        .forEach(v => {\n            if (hasMixedSign === true) return\n            if (sign === undefined) {\n                sign = Math.sign(v)\n            } else if (Math.sign(v) !== sign) {\n                hasMixedSign = true\n            }\n        })\n\n    if (hasZero || hasMixedSign) {\n        throw new Error(\n            [\n                `a log scale domain must be strictly-positive or strictly-negative,`,\n                `and must not include or cross zero.`,\n            ].join('\\n')\n        )\n    }\n\n    let minValue = min\n    if (min === 'auto') {\n        minValue = values.min\n    }\n    let maxValue = max\n    if (max === 'auto') {\n        maxValue = values.max\n    }\n\n    const scale = scaleLog()\n        .domain([minValue, maxValue])\n        .rangeRound(axis === 'x' ? [0, size] : [size, 0])\n        .base(base)\n        .nice()\n\n    scale.type = 'log'\n\n    return scale\n}\n\nexport const logScalePropTypes = {\n    type: PropTypes.oneOf(['log']).isRequired,\n    base: PropTypes.number,\n    min: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n    max: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { scaleSymlog } from 'd3-scale'\nimport PropTypes from 'prop-types'\n\nexport const symlogScale = (\n    { axis, constant = 1, min = 'auto', max = 'auto' },\n    xy,\n    width,\n    height\n) => {\n    const values = xy[axis]\n    const size = axis === 'x' ? width : height\n\n    let minValue = min\n    if (min === 'auto') {\n        minValue = values.min\n    }\n\n    let maxValue = max\n    if (max === 'auto') {\n        maxValue = values.max\n    }\n\n    const scale = scaleSymlog()\n        .domain([minValue, maxValue])\n        .constant(constant)\n        .rangeRound(axis === 'x' ? [0, size] : [size, 0])\n        .nice()\n\n    scale.type = 'symlog'\n\n    return scale\n}\n\nexport const symLogScalePropTypes = {\n    type: PropTypes.oneOf(['symlog']).isRequired,\n    constant: PropTypes.number,\n    min: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n    max: PropTypes.oneOfType([PropTypes.oneOf(['auto']), PropTypes.number]),\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { scalePoint } from 'd3-scale'\nimport PropTypes from 'prop-types'\n\nexport const pointScale = ({ axis }, xy, width, height) => {\n    const values = xy[axis]\n    const size = axis === 'x' ? width : height\n\n    const scale = scalePoint().range([0, size]).domain(values.all)\n\n    scale.type = 'point'\n\n    return scale\n}\n\nexport const pointScalePropTypes = {\n    type: PropTypes.oneOf(['point']).isRequired,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { timeParse, utcParse } from 'd3-time-format'\n\nexport const TIME_PRECISION_MILLISECOND = 'millisecond'\nexport const TIME_PRECISION_SECOND = 'second'\nexport const TIME_PRECISION_MINUTE = 'minute'\nexport const TIME_PRECISION_HOUR = 'hour'\nexport const TIME_PRECISION_DAY = 'day'\nexport const TIME_PRECISION_MONTH = 'month'\nexport const TIME_PRECISION_YEAR = 'year'\n\nexport const timePrecisions = [\n    TIME_PRECISION_MILLISECOND,\n    TIME_PRECISION_SECOND,\n    TIME_PRECISION_MINUTE,\n    TIME_PRECISION_HOUR,\n    TIME_PRECISION_DAY,\n    TIME_PRECISION_MONTH,\n    TIME_PRECISION_YEAR,\n]\n\nexport const precisionCutOffs = [\n    date => date.setMilliseconds(0),\n    date => date.setSeconds(0),\n    date => date.setMinutes(0),\n    date => date.setHours(0),\n    date => date.setDate(1),\n    date => date.setMonth(0),\n]\n\nexport const precisionCutOffsByType = {\n    [TIME_PRECISION_MILLISECOND]: [],\n    [TIME_PRECISION_SECOND]: precisionCutOffs.slice(0, 1),\n    [TIME_PRECISION_MINUTE]: precisionCutOffs.slice(0, 2),\n    [TIME_PRECISION_HOUR]: precisionCutOffs.slice(0, 3),\n    [TIME_PRECISION_DAY]: precisionCutOffs.slice(0, 4),\n    [TIME_PRECISION_MONTH]: precisionCutOffs.slice(0, 5),\n    [TIME_PRECISION_YEAR]: precisionCutOffs.slice(0, 6),\n}\n\nexport const createPrecisionMethod = precision => date => {\n    precisionCutOffsByType[precision].forEach(cutOff => {\n        cutOff(date)\n    })\n    return date\n}\n\nexport const createDateNormalizer = ({\n    format = 'native',\n    precision = 'millisecond',\n    useUTC = true,\n}) => {\n    const precisionFn = createPrecisionMethod(precision)\n    if (format === 'native') return v => precisionFn(v)\n\n    const parseTime = useUTC ? utcParse(format) : timeParse(format)\n    return v => precisionFn(parseTime(v))\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { scaleTime, scaleUtc } from 'd3-scale'\nimport PropTypes from 'prop-types'\nimport { createDateNormalizer, timePrecisions, TIME_PRECISION_MILLISECOND } from './timeHelpers'\n\nexport const timeScale = (\n    {\n        axis,\n        format = 'native',\n        precision = TIME_PRECISION_MILLISECOND,\n        min = 'auto',\n        max = 'auto',\n        useUTC = true,\n        nice = false,\n    },\n    xy,\n    width,\n    height\n) => {\n    const values = xy[axis]\n    const size = axis === 'x' ? width : height\n\n    const normalize = createDateNormalizer({ format, precision, useUTC })\n\n    let minValue = min\n    if (min === 'auto') {\n        minValue = values.min\n    } else if (format !== 'native') {\n        minValue = normalize(min)\n    }\n\n    let maxValue = max\n    if (max === 'auto') {\n        maxValue = values.max\n    } else if (format !== 'native') {\n        maxValue = normalize(max)\n    }\n\n    const scale = useUTC ? scaleUtc() : scaleTime()\n    scale.domain([minValue, maxValue]).range([0, size])\n    if (nice === true) scale.nice()\n    else if (typeof nice === 'object' || typeof nice === 'number') scale.nice(nice)\n\n    scale.type = 'time'\n    scale.useUTC = useUTC\n\n    return scale\n}\n\nexport const timeScalePropTypes = {\n    type: PropTypes.oneOf(['time']).isRequired,\n    format: PropTypes.string,\n    precision: PropTypes.oneOf(timePrecisions),\n    nice: PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.object]),\n}\n","import {calendar} from \"./time.js\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\n\nexport const bandScalePropTypes = {\n    type: PropTypes.oneOf(['band']).isRequired,\n    round: PropTypes.bool,\n}\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport uniq from 'lodash/uniq'\nimport uniqBy from 'lodash/uniqBy'\nimport sortBy from 'lodash/sortBy'\nimport last from 'lodash/last'\nimport isDate from 'lodash/isDate'\nimport { linearScale } from './linearScale'\nimport { logScale } from './logScale'\nimport { symlogScale } from './symlogScale'\nimport { pointScale } from './pointScale'\nimport { timeScale } from './timeScale'\nimport { createDateNormalizer } from './timeHelpers'\n\nexport const getOtherAxis = axis => (axis === 'x' ? 'y' : 'x')\n\nexport const compareValues = (a, b) => a === b\nexport const compareDateValues = (a, b) => a.getTime() === b.getTime()\n\nexport const computeXYScalesForSeries = (_series, xScaleSpec, yScaleSpec, width, height) => {\n    const series = _series.map(serie => ({\n        ...serie,\n        data: serie.data.map(d => ({ data: { ...d } })),\n    }))\n\n    let xy = generateSeriesXY(series, xScaleSpec, yScaleSpec)\n    if (xScaleSpec.stacked === true) {\n        stackX(yScaleSpec.type, xy, series)\n    }\n    if (yScaleSpec.stacked === true) {\n        stackY(xScaleSpec.type, xy, series)\n    }\n\n    const xScale = computeScale({ ...xScaleSpec, axis: 'x' }, xy, width, height)\n    const yScale = computeScale({ ...yScaleSpec, axis: 'y' }, xy, width, height)\n\n    series.forEach(serie => {\n        serie.data.forEach(d => {\n            d.position = {\n                x:\n                    xScale.stacked === true\n                        ? d.data.xStacked === null\n                            ? null\n                            : xScale(d.data.xStacked)\n                        : d.data.x === null\n                        ? null\n                        : xScale(d.data.x),\n                y:\n                    yScale.stacked === true\n                        ? d.data.yStacked === null\n                            ? null\n                            : yScale(d.data.yStacked)\n                        : d.data.y === null\n                        ? null\n                        : yScale(d.data.y),\n            }\n        })\n    })\n\n    return {\n        ...xy,\n        series,\n        xScale,\n        yScale,\n    }\n}\n\nexport const computeScale = (spec, xy, width, height) => {\n    if (spec.type === 'linear') return linearScale(spec, xy, width, height)\n    else if (spec.type === 'point') return pointScale(spec, xy, width, height)\n    else if (spec.type === 'time') return timeScale(spec, xy, width, height)\n    else if (spec.type === 'log') return logScale(spec, xy, width, height)\n    else if (spec.type === 'symlog') return symlogScale(spec, xy, width, height)\n}\n\nexport const generateSeriesXY = (series, xScaleSpec, yScaleSpec) => ({\n    x: generateSeriesAxis(series, 'x', xScaleSpec),\n    y: generateSeriesAxis(series, 'y', yScaleSpec),\n})\n\n/**\n * Normalize data according to scale type, (time => Date, linear => Number)\n * compute sorted unique values and min/max.\n */\nexport const generateSeriesAxis = (\n    series,\n    axis,\n    scaleSpec,\n    {\n        getValue = d => d.data[axis],\n        setValue = (d, v) => {\n            d.data[axis] = v\n        },\n    } = {}\n) => {\n    if (scaleSpec.type === 'linear') {\n        series.forEach(serie => {\n            serie.data.forEach(d => {\n                setValue(d, getValue(d) === null ? null : parseFloat(getValue(d)))\n            })\n        })\n    } else if (scaleSpec.type === 'time' && scaleSpec.format !== 'native') {\n        const parseTime = createDateNormalizer(scaleSpec)\n        series.forEach(serie => {\n            serie.data.forEach(d => {\n                setValue(d, getValue(d) === null ? null : parseTime(getValue(d)))\n            })\n        })\n    }\n\n    let all = []\n    series.forEach(serie => {\n        serie.data.forEach(d => {\n            all.push(getValue(d))\n        })\n    })\n\n    let min, max\n    if (scaleSpec.type === 'linear') {\n        all = uniq(all)\n        all = sortBy(all, v => v)\n        min = Math.min(...all)\n        max = Math.max(...all)\n    } else if (scaleSpec.type === 'time') {\n        all = uniqBy(all, v => v.getTime())\n        all = all\n            .slice(0)\n            .sort((a, b) => b - a)\n            .reverse()\n        min = all[0]\n        max = last(all)\n    } else {\n        all = uniq(all)\n        min = all[0]\n        max = last(all)\n    }\n\n    return { all, min, max }\n}\n\nexport const stackAxis = (axis, otherType, xy, series) => {\n    const otherAxis = getOtherAxis(axis)\n\n    let all = []\n    xy[otherAxis].all.forEach(v => {\n        const compare = isDate(v) ? compareDateValues : compareValues\n        const stack = []\n        series.forEach(serie => {\n            const datum = serie.data.find(d => compare(d.data[otherAxis], v))\n            let value = null\n            let stackValue = null\n            if (datum !== undefined) {\n                value = datum.data[axis]\n                if (value !== null) {\n                    const head = last(stack)\n                    if (head === undefined) {\n                        stackValue = value\n                    } else if (head !== null) {\n                        stackValue = head + value\n                    }\n                }\n                datum.data[`${axis}Stacked`] = stackValue\n            }\n            stack.push(stackValue)\n            all.push(stackValue)\n        })\n    })\n    all = all.filter(v => v !== null)\n\n    xy[axis].minStacked = Math.min(...all)\n    xy[axis].maxStacked = Math.max(...all)\n}\n\nexport const stackX = (xy, otherType, series) => stackAxis('x', xy, otherType, series)\nexport const stackY = (xy, otherType, series) => stackAxis('y', xy, otherType, series)\n\nexport const computeAxisSlices = (axis, data) => {\n    const otherAxis = getOtherAxis(axis)\n\n    return data[otherAxis].all.map(v => {\n        const slice = {\n            id: v,\n            [otherAxis]: data[`${otherAxis}Scale`](v),\n            data: [],\n        }\n        const compare = isDate(v) ? compareDateValues : compareValues\n        data.series.forEach(serie => {\n            const datum = serie.data.find(d => compare(d.data[otherAxis], v))\n            if (datum !== undefined) {\n                slice.data.push({\n                    ...datum,\n                    serie,\n                })\n            }\n        })\n        slice.data.reverse()\n\n        return slice\n    })\n}\n\nexport const computeXSlices = data => computeAxisSlices('x', data)\nexport const computeYSlices = data => computeAxisSlices('y', data)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { linearScalePropTypes } from './linearScale'\nimport { logScalePropTypes } from './logScale'\nimport { symLogScalePropTypes } from './symlogScale'\nimport { pointScalePropTypes } from './pointScale'\nimport { timeScalePropTypes } from './timeScale'\nimport { bandScalePropTypes } from './bandScale'\n\nexport * from './compute'\nexport * from './linearScale'\nexport * from './logScale'\nexport * from './symlogScale'\nexport * from './pointScale'\nexport * from './timeScale'\nexport * from './timeHelpers'\nexport * from './bandScale'\n\nexport const scalePropType = PropTypes.oneOfType([\n    PropTypes.shape(linearScalePropTypes),\n    PropTypes.shape(pointScalePropTypes),\n    PropTypes.shape(timeScalePropTypes),\n    PropTypes.shape(logScalePropTypes),\n    PropTypes.shape(symLogScalePropTypes),\n    PropTypes.shape(bandScalePropTypes),\n])\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], !orient(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1])) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\n// return 2d orientation sign if we're confident in it through J. Shewchuk's error bound check\nfunction orientIfSure(px, py, rx, ry, qx, qy) {\n    const l = (ry - py) * (qx - px);\n    const r = (rx - px) * (qy - py);\n    return Math.abs(l - r) >= 3.3306690738754716e-16 * Math.abs(l + r) ? l - r : 0;\n}\n\n// a more robust orientation test that's stable in a given triangle (to fix robustness issues)\nfunction orient(rx, ry, qx, qy, px, py) {\n    const sign = orientIfSure(px, py, rx, ry, qx, qy) ||\n    orientIfSure(rx, ry, qx, qy, px, py) ||\n    orientIfSure(qx, qy, px, py, rx, ry);\n    return sign < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","const epsilon = 1e-6;\n\nexport default class Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n  value() {\n    return this._ || null;\n  }\n}\n","export default class Polygon {\n  constructor() {\n    this._ = [];\n  }\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n  value() {\n    return this._.length ? this._ : null;\n  }\n}\n","import Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nexport default class Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const bl = dx * dx + dy * dy;\n      const cl = ex * ex + ey * ey;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (!ab) {\n        // degenerate case (collinear diagram)\n        x = (x1 + x3) / 2 - 1e8 * ey;\n        y = (y1 + y3) / 2 + 1e8 * ex;\n      }\n      else if (Math.abs(ab) < 1e-8) {\n        // almost equal points (degenerate triangle)\n        x = (x1 + x3) / 2;\n        y = (y1 + y3) / 2;\n      } else {\n        const d = 1 / ab;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] == cj[aj]\n          && ci[ai + 1] == cj[aj + 1]\n          && ci[(ai + 2) % li] == cj[(aj + lj - 2) % lj]\n          && ci[(ai + 3) % li] == cj[(aj + lj - 1) % lj]\n          ) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points);\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    while (true) {\n      if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    if (P.length > 4) {\n      for (let i = 0; i < P.length; i+= 2) {\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k]\n        || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1])\n          P.splice(j, 2), i -= 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n}\n","import Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\n\nconst tau = 2 * Math.PI, pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\n// A triangulation is collinear if all its triangles have a non-null area\nfunction collinear(d) {\n  const {triangles, coords} = d;\n  for (let i = 0; i < triangles.length; i += 3) {\n    const a = 2 * triangles[i],\n          b = 2 * triangles[i + 1],\n          c = 2 * triangles[i + 2],\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1])\n                - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nexport default class Delaunay {\n  static from(points, fx = pointX, fy = pointY, that) {\n    return new Delaunay(\"length\" in points\n        ? flatArray(points, fx, fy, that)\n        : Float64Array.from(flatIterable(points, fx, fy, that)));\n  }\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n    this._init();\n  }\n  update() {\n    this._delaunator.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const d = this._delaunator, points = this.points;\n\n    // check for collinear\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\n        r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n    const hullIndex = this._hullIndex.fill(-1);\n\n    // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    }\n\n    // degenerate case: 1 or 2 (distinct) points\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      this.triangles[1] = hull[1];\n      this.triangles[2] = hull[1];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) inedges[hull[1]] = 0;\n    }\n  }\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n  *neighbors(i) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, collinear} = this;\n\n    // degenerate case with several collinear points\n    if (collinear) {\n      const l = collinear.indexOf(i);\n      if (l > 0) yield collinear[l - 1];\n      if (l < collinear.length - 1) yield collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n    let e = e0, p0 = -1;\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n    return c;\n  }\n  _step(i, x, y) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n    const e0 = inedges[i];\n    let e = e0;\n    do {\n      let t = triangles[e];\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n        if (e !== t) {\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n        }\n        break;\n      }\n    } while (e !== e0);\n    return c;\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, halfedges, triangles} = this;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n  renderPoints(context, r = 2) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points} = this;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i], y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n    return buffer && buffer.value();\n  }\n  renderHull(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {hull, points} = this;\n    const h = hull[0] * 2, n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  hullPolygon() {\n    const polygon = new Polygon;\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, triangles} = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *trianglePolygons() {\n    const {triangles} = this;\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n  trianglePolygon(i) {\n    const polygon = new Polygon;\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n}\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n","import { Delaunay } from 'd3-delaunay'\n\ntype NumberPropertyNames<T> = {\n    [K in keyof T]: T[K] extends number ? K : never\n}[keyof T]\n\nexport type XYAccessor<Datum> = NumberPropertyNames<Datum> | ((datum: Datum) => number)\n\nconst getAccessor = <Datum>(directive: XYAccessor<Datum>) =>\n    typeof directive === 'function' ? directive : (datum: Datum) => datum[directive]\n\n/**\n * The delaunay generator requires an array\n * where each point is defined as an array\n * of 2 elements: [x: number, y: number].\n *\n * Points represent the raw input data\n * and x/y represent accessors to x & y.\n */\nexport const computeMeshPoints = <Datum>({\n    points,\n    x = 'x' as NumberPropertyNames<Datum>,\n    y = 'y' as NumberPropertyNames<Datum>,\n}: {\n    points: Datum[]\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n}): [number, number][] => {\n    const getX = getAccessor<Datum>(x)\n    const getY = getAccessor<Datum>(y)\n\n    return points.map(point => [getX(point) as number, getY(point) as number])\n}\n\nexport const computeMesh = ({\n    points,\n    width,\n    height,\n    debug,\n}: {\n    points: [number, number][]\n    width: number\n    height: number\n    debug?: boolean\n}) => {\n    const delaunay = Delaunay.from(points)\n    const voronoi = debug ? delaunay.voronoi([0, 0, width, height]) : undefined\n\n    return { delaunay, voronoi }\n}\n","import { useMemo } from 'react'\nimport { scaleLinear } from 'd3-scale'\nimport { Delaunay } from 'd3-delaunay'\nimport { computeMeshPoints, computeMesh, XYAccessor } from './computeMesh'\nimport { VoronoiCommonProps, VoronoiDatum, VoronoiCustomLayerProps } from './types'\n\nexport const useVoronoiMesh = <Datum>({\n    points,\n    x,\n    y,\n    width,\n    height,\n    debug,\n}: {\n    points: Datum[]\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n    width: number\n    height: number\n    debug?: boolean\n}) => {\n    const points2d = useMemo(\n        () => computeMeshPoints<Datum>({ points, x, y }),\n        [points, x, y]\n    )\n\n    return useMemo(() => computeMesh({ points: points2d, width, height, debug }), [\n        points2d,\n        width,\n        height,\n        debug,\n    ])\n}\n\nexport const useVoronoi = ({\n    data,\n    width,\n    height,\n    xDomain,\n    yDomain,\n}: {\n    data: VoronoiDatum[]\n    width: number\n    height: number\n    xDomain: VoronoiCommonProps['xDomain']\n    yDomain: VoronoiCommonProps['yDomain']\n}) => {\n    const xScale = useMemo(() => scaleLinear().domain(xDomain).range([0, width]), [xDomain, width])\n    const yScale = useMemo(() => scaleLinear().domain(yDomain).range([0, height]), [\n        yDomain,\n        height,\n    ])\n\n    const points = useMemo(\n        () =>\n            data.map(d => ({\n                x: xScale(d.x),\n                y: yScale(d.y),\n                data: d,\n            })),\n        [data, xScale, yScale]\n    )\n\n    return useMemo(() => {\n        const delaunay = Delaunay.from(points.map(p => [p.x, p.y]))\n        const voronoi = delaunay.voronoi([0, 0, width, height])\n\n        return {\n            points,\n            delaunay,\n            voronoi,\n        }\n    }, [points, width, height])\n}\n\n/**\n * Memoize the context to pass to custom layers.\n */\nexport const useVoronoiLayerContext = ({\n    points,\n    delaunay,\n    voronoi,\n}: VoronoiCustomLayerProps): VoronoiCustomLayerProps =>\n    useMemo(\n        () => ({\n            points,\n            delaunay,\n            voronoi,\n        }),\n        [points, delaunay, voronoi]\n    )\n","import React, { useRef, useState, useCallback, useMemo } from 'react'\nimport { getRelativeCursor } from '@nivo/core'\nimport { useVoronoiMesh } from './hooks'\nimport { XYAccessor } from './computeMesh'\n\ntype MouseHandler<Datum> = (datum: Datum, event: React.MouseEvent) => void\n\ninterface MeshProps<Datum> {\n    nodes: Datum[]\n    width: number\n    height: number\n    x?: XYAccessor<Datum>\n    y?: XYAccessor<Datum>\n    onMouseEnter?: MouseHandler<Datum>\n    onMouseMove?: MouseHandler<Datum>\n    onMouseLeave?: MouseHandler<Datum>\n    onClick?: MouseHandler<Datum>\n    debug?: boolean\n}\n\nexport const Mesh = <Datum,>({\n    nodes,\n    width,\n    height,\n    x,\n    y,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    debug,\n}: MeshProps<Datum>) => {\n    const elementRef = useRef<SVGGElement>(null)\n    const [currentIndex, setCurrentIndex] = useState<number | null>(null)\n\n    const { delaunay, voronoi } = useVoronoiMesh({\n        points: nodes,\n        x,\n        y,\n        width,\n        height,\n        debug,\n    })\n\n    const voronoiPath = useMemo(() => {\n        if (debug && voronoi) {\n            return voronoi.render()\n        }\n\n        return undefined\n    }, [debug, voronoi])\n\n    const getIndexAndNodeFromEvent = useCallback(\n        event => {\n            if (!elementRef.current) {\n                return [null, null]\n            }\n\n            const [x, y] = getRelativeCursor(elementRef.current, event)\n            const index = delaunay.find(x, y)\n\n            return [index, index !== undefined ? nodes[index] : null] as [number, Datum | null]\n        },\n        [elementRef, delaunay]\n    )\n\n    const handleMouseEnter = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onMouseEnter?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onMouseEnter]\n    )\n\n    const handleMouseMove = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onMouseMove?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onMouseMove]\n    )\n\n    const handleMouseLeave = useCallback(\n        (event: React.MouseEvent) => {\n            setCurrentIndex(null)\n            if (onMouseLeave) {\n                let previousNode: Datum | undefined = undefined\n                if (currentIndex !== null) {\n                    previousNode = nodes[currentIndex]\n                }\n                previousNode && onMouseLeave(previousNode, event)\n            }\n        },\n        [setCurrentIndex, currentIndex, onMouseLeave, nodes]\n    )\n\n    const handleClick = useCallback(\n        (event: React.MouseEvent) => {\n            const [index, node] = getIndexAndNodeFromEvent(event)\n            setCurrentIndex(index)\n            if (node) {\n                onClick?.(node, event)\n            }\n        },\n        [getIndexAndNodeFromEvent, setCurrentIndex, onClick]\n    )\n\n    return (\n        <g ref={elementRef}>\n            {debug && voronoi && (\n                <>\n                    <path d={voronoiPath} stroke=\"red\" strokeWidth={1} opacity={0.75} />\n                    {/* highlight current cell */}\n                    {currentIndex !== null && (\n                        <path fill=\"pink\" opacity={0.35} d={voronoi.renderCell(currentIndex)} />\n                    )}\n                </>\n            )}\n            {/* transparent rect to intercept mouse events */}\n            <rect\n                width={width}\n                height={height}\n                fill=\"red\"\n                opacity={0}\n                style={{ cursor: 'auto' }}\n                onMouseEnter={handleMouseEnter}\n                onMouseMove={handleMouseMove}\n                onMouseLeave={handleMouseLeave}\n                onClick={handleClick}\n            />\n        </g>\n    )\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { BasicTooltip } from '@nivo/tooltip'\n\nconst LinePointTooltip = ({ point }) => {\n    return (\n        <BasicTooltip\n            id={\n                <span>\n                    x: <strong>{point.data.xFormatted}</strong>, y:{' '}\n                    <strong>{point.data.yFormatted}</strong>\n                </span>\n            }\n            enableChip={true}\n            color={point.serieColor}\n        />\n    )\n}\n\nLinePointTooltip.propTypes = {\n    point: PropTypes.object.isRequired,\n}\n\nexport default memo(LinePointTooltip)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTheme } from '@nivo/core'\nimport { Chip, TableTooltip } from '@nivo/tooltip'\n\nconst SliceTooltip = ({ slice, axis }) => {\n    const theme = useTheme()\n    const otherAxis = axis === 'x' ? 'y' : 'x'\n\n    return (\n        <TableTooltip\n            rows={slice.points.map(point => [\n                <Chip key=\"chip\" color={point.serieColor} style={theme.tooltip.chip} />,\n                point.serieId,\n                <span key=\"value\" style={theme.tooltip.tableCellValue}>\n                    {point.data[`${otherAxis}Formatted`]}\n                </span>,\n            ])}\n        />\n    )\n}\n\nSliceTooltip.propTypes = {\n    slice: PropTypes.object.isRequired,\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n}\n\nexport default memo(SliceTooltip)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport PropTypes from 'prop-types'\nimport { lineCurvePropType, blendModePropType, motionPropTypes, defsPropTypes } from '@nivo/core'\nimport { ordinalColorsPropType } from '@nivo/colors'\nimport { axisPropType } from '@nivo/axes'\nimport { scalePropType } from '@nivo/scales'\nimport { LegendPropShape } from '@nivo/legends'\nimport PointTooltip from './PointTooltip'\nimport SliceTooltip from './SliceTooltip'\n\nconst commonPropTypes = {\n    data: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            data: PropTypes.arrayOf(\n                PropTypes.shape({\n                    x: PropTypes.oneOfType([\n                        PropTypes.number,\n                        PropTypes.string,\n                        PropTypes.instanceOf(Date),\n                    ]),\n                    y: PropTypes.oneOfType([\n                        PropTypes.number,\n                        PropTypes.string,\n                        PropTypes.instanceOf(Date),\n                    ]),\n                })\n            ).isRequired,\n        })\n    ).isRequired,\n\n    xScale: scalePropType.isRequired,\n    xFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n    yScale: scalePropType.isRequired,\n    yFormat: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n    layers: PropTypes.arrayOf(\n        PropTypes.oneOfType([\n            PropTypes.oneOf([\n                'grid',\n                'markers',\n                'axes',\n                'areas',\n                'crosshair',\n                'lines',\n                'slices',\n                'points',\n                'mesh',\n                'legends',\n            ]),\n            PropTypes.func,\n        ])\n    ).isRequired,\n\n    curve: lineCurvePropType.isRequired,\n\n    axisTop: axisPropType,\n    axisRight: axisPropType,\n    axisBottom: axisPropType,\n    axisLeft: axisPropType,\n\n    enableGridX: PropTypes.bool.isRequired,\n    enableGridY: PropTypes.bool.isRequired,\n    gridXValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(\n            PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        ),\n    ]),\n    gridYValues: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.arrayOf(\n            PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.instanceOf(Date)])\n        ),\n    ]),\n\n    enablePoints: PropTypes.bool.isRequired,\n    pointSymbol: PropTypes.func,\n    pointSize: PropTypes.number.isRequired,\n    pointColor: PropTypes.any.isRequired,\n    pointBorderWidth: PropTypes.number.isRequired,\n    pointBorderColor: PropTypes.any.isRequired,\n    enablePointLabel: PropTypes.bool.isRequired,\n    pointLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n\n    markers: PropTypes.arrayOf(\n        PropTypes.shape({\n            axis: PropTypes.oneOf(['x', 'y']).isRequired,\n            value: PropTypes.oneOfType([\n                PropTypes.number,\n                PropTypes.string,\n                PropTypes.instanceOf(Date),\n            ]).isRequired,\n            style: PropTypes.object,\n        })\n    ),\n\n    colors: ordinalColorsPropType.isRequired,\n\n    enableArea: PropTypes.bool.isRequired,\n    areaOpacity: PropTypes.number.isRequired,\n    areaBlendMode: blendModePropType.isRequired,\n    areaBaselineValue: PropTypes.oneOfType([\n        PropTypes.number,\n        PropTypes.string,\n        PropTypes.instanceOf(Date),\n    ]).isRequired,\n    lineWidth: PropTypes.number.isRequired,\n\n    legends: PropTypes.arrayOf(PropTypes.shape(LegendPropShape)).isRequired,\n\n    isInteractive: PropTypes.bool.isRequired,\n    debugMesh: PropTypes.bool.isRequired,\n\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    enableSlices: PropTypes.oneOf(['x', 'y', false]).isRequired,\n    debugSlices: PropTypes.bool.isRequired,\n    sliceTooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n\n    enableCrosshair: PropTypes.bool.isRequired,\n    crosshairType: PropTypes.string.isRequired,\n}\n\nexport const LinePropTypes = {\n    ...commonPropTypes,\n    enablePointLabel: PropTypes.bool.isRequired,\n    role: PropTypes.string.isRequired,\n    useMesh: PropTypes.bool.isRequired,\n    ...motionPropTypes,\n    ...defsPropTypes,\n}\n\nexport const LineCanvasPropTypes = {\n    pixelRatio: PropTypes.number.isRequired,\n    ...commonPropTypes,\n}\n\nconst commonDefaultProps = {\n    curve: 'linear',\n\n    xScale: {\n        type: 'point',\n    },\n    yScale: {\n        type: 'linear',\n        min: 0,\n        max: 'auto',\n    },\n\n    layers: [\n        'grid',\n        'markers',\n        'axes',\n        'areas',\n        'crosshair',\n        'lines',\n        'points',\n        'slices',\n        'mesh',\n        'legends',\n    ],\n    axisBottom: {},\n    axisLeft: {},\n    enableGridX: true,\n    enableGridY: true,\n\n    enablePoints: true,\n    pointSize: 6,\n    pointColor: { from: 'color' },\n    pointBorderWidth: 0,\n    pointBorderColor: { theme: 'background' },\n    enablePointLabel: false,\n    pointLabel: 'yFormatted',\n\n    colors: { scheme: 'nivo' },\n    enableArea: false,\n    areaBaselineValue: 0,\n    areaOpacity: 0.2,\n    areaBlendMode: 'normal',\n    lineWidth: 2,\n\n    legends: [],\n\n    isInteractive: true,\n    tooltip: PointTooltip,\n    enableSlices: false,\n    debugSlices: false,\n    sliceTooltip: SliceTooltip,\n    debugMesh: false,\n    enableCrosshair: true,\n    crosshairType: 'bottom-left',\n}\n\nexport const LineDefaultProps = {\n    ...commonDefaultProps,\n    enablePointLabel: false,\n    useMesh: false,\n    animate: true,\n    motionConfig: 'gentle',\n    defs: [],\n    fill: [],\n    role: 'img',\n}\n\nexport const LineCanvasDefaultProps = {\n    ...commonDefaultProps,\n    pixelRatio: typeof window !== 'undefined' ? window.devicePixelRatio || 1 : 1,\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport { useMemo } from 'react'\nimport { area, line } from 'd3-shape'\nimport { curveFromProp, useTheme, useValueFormatter } from '@nivo/core'\nimport { useOrdinalColorScale, useInheritedColor } from '@nivo/colors'\nimport { computeXYScalesForSeries } from '@nivo/scales'\nimport { LineDefaultProps } from './props'\n\nexport const useLineGenerator = ({ curve }) => {\n    return useMemo(\n        () =>\n            line()\n                .defined(d => d.x !== null && d.y !== null)\n                .x(d => d.x)\n                .y(d => d.y)\n                .curve(curveFromProp(curve)),\n        [curve]\n    )\n}\n\nexport const useAreaGenerator = ({ curve, yScale, areaBaselineValue }) => {\n    return useMemo(() => {\n        return area()\n            .defined(d => d.x !== null && d.y !== null)\n            .x(d => d.x)\n            .y1(d => d.y)\n            .curve(curveFromProp(curve))\n            .y0(yScale(areaBaselineValue))\n    }, [curve, yScale, areaBaselineValue])\n}\n\nconst usePoints = ({ series, getPointColor, getPointBorderColor, formatX, formatY }) => {\n    return useMemo(() => {\n        return series.reduce((acc, serie) => {\n            return [\n                ...acc,\n                ...serie.data\n                    .filter(datum => datum.position.x !== null && datum.position.y !== null)\n                    .map((datum, i) => {\n                        const point = {\n                            id: `${serie.id}.${i}`,\n                            index: acc.length + i,\n                            serieId: serie.id,\n                            serieColor: serie.color,\n                            x: datum.position.x,\n                            y: datum.position.y,\n                        }\n                        point.color = getPointColor(serie)\n                        point.borderColor = getPointBorderColor(point)\n                        point.data = {\n                            ...datum.data,\n                            xFormatted: formatX(datum.data.x),\n                            yFormatted: formatY(datum.data.y),\n                        }\n\n                        return point\n                    }),\n            ]\n        }, [])\n    }, [series, getPointColor, getPointBorderColor, formatX, formatY])\n}\n\nexport const useSlices = ({ enableSlices, points, width, height }) => {\n    return useMemo(() => {\n        if (enableSlices === false) return []\n\n        if (enableSlices === 'x') {\n            const map = new Map()\n            points.forEach(point => {\n                if (point.data.x === null || point.data.y === null) return\n                if (!map.has(point.x)) map.set(point.x, [point])\n                else map.get(point.x).push(point)\n            })\n            return Array.from(map.entries())\n                .sort((a, b) => a[0] - b[0])\n                .map(([x, slicePoints], i, slices) => {\n                    const prevSlice = slices[i - 1]\n                    const nextSlice = slices[i + 1]\n\n                    let x0\n                    if (!prevSlice) x0 = x\n                    else x0 = x - (x - prevSlice[0]) / 2\n\n                    let sliceWidth\n                    if (!nextSlice) sliceWidth = width - x0\n                    else sliceWidth = x - x0 + (nextSlice[0] - x) / 2\n\n                    return {\n                        id: x,\n                        x0,\n                        x,\n                        y0: 0,\n                        y: 0,\n                        width: sliceWidth,\n                        height,\n                        points: slicePoints.reverse(),\n                    }\n                })\n        } else if (enableSlices === 'y') {\n            const map = new Map()\n            points.forEach(point => {\n                if (point.data.x === null || point.data.y === null) return\n                if (!map.has(point.y)) map.set(point.y, [point])\n                else map.get(point.y).push(point)\n            })\n            return Array.from(map.entries())\n                .sort((a, b) => a[0] - b[0])\n                .map(([y, slicePoints], i, slices) => {\n                    const prevSlice = slices[i - 1]\n                    const nextSlice = slices[i + 1]\n\n                    let y0\n                    if (!prevSlice) y0 = y\n                    else y0 = y - (y - prevSlice[0]) / 2\n\n                    let sliceHeight\n                    if (!nextSlice) sliceHeight = height - y0\n                    else sliceHeight = y - y0 + (nextSlice[0] - y) / 2\n\n                    return {\n                        id: y,\n                        x0: 0,\n                        x: 0,\n                        y0,\n                        y,\n                        width,\n                        height: sliceHeight,\n                        points: slicePoints.reverse(),\n                    }\n                })\n        }\n    }, [enableSlices, points])\n}\n\nexport const useLine = ({\n    data,\n    xScale: xScaleSpec = LineDefaultProps.xScale,\n    xFormat,\n    yScale: yScaleSpec = LineDefaultProps.yScale,\n    yFormat,\n    width,\n    height,\n    colors = LineDefaultProps.colors,\n    curve = LineDefaultProps.curve,\n    areaBaselineValue = LineDefaultProps.areaBaselineValue,\n    pointColor = LineDefaultProps.pointColor,\n    pointBorderColor = LineDefaultProps.pointBorderColor,\n    enableSlices = LineDefaultProps.enableSlicesTooltip,\n}) => {\n    const formatX = useValueFormatter(xFormat)\n    const formatY = useValueFormatter(yFormat)\n    const getColor = useOrdinalColorScale(colors, 'id')\n    const theme = useTheme()\n    const getPointColor = useInheritedColor(pointColor, theme)\n    const getPointBorderColor = useInheritedColor(pointBorderColor, theme)\n\n    const { xScale, yScale, series: rawSeries } = useMemo(\n        () => computeXYScalesForSeries(data, xScaleSpec, yScaleSpec, width, height),\n        [data, xScaleSpec, yScaleSpec, width, height]\n    )\n\n    const series = useMemo(\n        () =>\n            rawSeries.map(serie => ({\n                ...serie,\n                color: getColor(serie),\n            })),\n        [rawSeries, getColor]\n    )\n\n    const points = usePoints({\n        series,\n        getPointColor,\n        getPointBorderColor,\n        formatX,\n        formatY,\n    })\n\n    const slices = useSlices({\n        enableSlices,\n        points,\n        width,\n        height,\n    })\n\n    const lineGenerator = useLineGenerator({ curve })\n    const areaGenerator = useAreaGenerator({\n        curve,\n        yScale,\n        areaBaselineValue,\n    })\n\n    return {\n        lineGenerator,\n        areaGenerator,\n        getColor,\n        series,\n        xScale,\n        yScale,\n        slices,\n        points,\n    }\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useSpring, animated } from '@react-spring/web'\nimport { useAnimatedPath, useMotionConfig, blendModePropType } from '@nivo/core'\n\nconst AreaPath = ({ areaBlendMode, areaOpacity, color, fill, path }) => {\n    const { animate, config: springConfig } = useMotionConfig()\n\n    const animatedPath = useAnimatedPath(path)\n    const animatedProps = useSpring({\n        color,\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    return (\n        <animated.path\n            d={animatedPath}\n            fill={fill ? fill : animatedProps.color}\n            fillOpacity={areaOpacity}\n            strokeWidth={0}\n            style={{\n                mixBlendMode: areaBlendMode,\n            }}\n        />\n    )\n}\n\nAreaPath.propTypes = {\n    areaBlendMode: blendModePropType.isRequired,\n    areaOpacity: PropTypes.number.isRequired,\n    color: PropTypes.string,\n    fill: PropTypes.string,\n    path: PropTypes.string.isRequired,\n}\n\nconst Areas = ({ areaGenerator, areaOpacity, areaBlendMode, lines }) => {\n    const computedLines = lines.slice(0).reverse()\n\n    return (\n        <g>\n            {computedLines.map(line => (\n                <AreaPath\n                    key={line.id}\n                    path={areaGenerator(line.data.map(d => d.position))}\n                    {...{ areaOpacity, areaBlendMode, ...line }}\n                />\n            ))}\n        </g>\n    )\n}\n\nAreas.propTypes = {\n    areaGenerator: PropTypes.func.isRequired,\n    areaOpacity: PropTypes.number.isRequired,\n    areaBlendMode: blendModePropType.isRequired,\n    lines: PropTypes.arrayOf(PropTypes.object).isRequired,\n}\n\nexport default memo(Areas)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { animated } from '@react-spring/web'\nimport { useAnimatedPath } from '@nivo/core'\n\nconst LinesItem = ({ lineGenerator, points, color, thickness }) => {\n    const path = useMemo(() => lineGenerator(points), [lineGenerator, points])\n    const animatedPath = useAnimatedPath(path)\n\n    return <animated.path d={animatedPath} fill=\"none\" strokeWidth={thickness} stroke={color} />\n}\n\nLinesItem.propTypes = {\n    points: PropTypes.arrayOf(\n        PropTypes.shape({\n            x: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n            y: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        })\n    ),\n    lineGenerator: PropTypes.func.isRequired,\n    color: PropTypes.string.isRequired,\n    thickness: PropTypes.number.isRequired,\n}\n\nexport default memo(LinesItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport LinesItem from './LinesItem'\n\nconst Lines = ({ lines, lineGenerator, lineWidth }) => {\n    return lines\n        .reverse()\n        .map(({ id, data, color }) => (\n            <LinesItem\n                key={id}\n                id={id}\n                points={data.map(d => d.position)}\n                lineGenerator={lineGenerator}\n                color={color}\n                thickness={lineWidth}\n            />\n        ))\n}\n\nLines.propTypes = {\n    lines: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n            color: PropTypes.string.isRequired,\n            data: PropTypes.arrayOf(\n                PropTypes.shape({\n                    data: PropTypes.shape({\n                        x: PropTypes.oneOfType([\n                            PropTypes.string,\n                            PropTypes.number,\n                            PropTypes.instanceOf(Date),\n                        ]),\n                        y: PropTypes.oneOfType([\n                            PropTypes.string,\n                            PropTypes.number,\n                            PropTypes.instanceOf(Date),\n                        ]),\n                    }).isRequired,\n                    position: PropTypes.shape({\n                        x: PropTypes.number,\n                        y: PropTypes.number,\n                    }).isRequired,\n                })\n            ).isRequired,\n        })\n    ).isRequired,\n    lineWidth: PropTypes.number.isRequired,\n    lineGenerator: PropTypes.func.isRequired,\n}\n\nexport default memo(Lines)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTooltip } from '@nivo/tooltip'\n\nconst SlicesItem = ({ slice, axis, debug, tooltip, isCurrent, setCurrent }) => {\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseEnter = useCallback(\n        event => {\n            showTooltipFromEvent(React.createElement(tooltip, { slice, axis }), event, 'right')\n            setCurrent(slice)\n        },\n        [showTooltipFromEvent, tooltip, slice]\n    )\n\n    const handleMouseMove = useCallback(\n        event => {\n            showTooltipFromEvent(React.createElement(tooltip, { slice, axis }), event, 'right')\n        },\n        [showTooltipFromEvent, tooltip, slice]\n    )\n\n    const handleMouseLeave = useCallback(() => {\n        hideTooltip()\n        setCurrent(null)\n    }, [hideTooltip])\n\n    return (\n        <rect\n            x={slice.x0}\n            y={slice.y0}\n            width={slice.width}\n            height={slice.height}\n            stroke=\"red\"\n            strokeWidth={debug ? 1 : 0}\n            strokeOpacity={0.75}\n            fill=\"red\"\n            fillOpacity={isCurrent && debug ? 0.35 : 0}\n            onMouseEnter={handleMouseEnter}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n        />\n    )\n}\n\nSlicesItem.propTypes = {\n    slice: PropTypes.object.isRequired,\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    debug: PropTypes.bool.isRequired,\n    height: PropTypes.number.isRequired,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n    isCurrent: PropTypes.bool.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n}\n\nexport default memo(SlicesItem)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport SlicesItem from './SlicesItem'\n\nconst Slices = ({ slices, axis, debug, height, tooltip, current, setCurrent }) => {\n    return slices.map(slice => (\n        <SlicesItem\n            key={slice.id}\n            slice={slice}\n            axis={axis}\n            debug={debug}\n            height={height}\n            tooltip={tooltip}\n            setCurrent={setCurrent}\n            isCurrent={current !== null && current.id === slice.id}\n        />\n    ))\n}\n\nSlices.propTypes = {\n    slices: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.oneOfType([\n                PropTypes.number,\n                PropTypes.string,\n                PropTypes.instanceOf(Date),\n            ]).isRequired,\n            x: PropTypes.number.isRequired,\n            y: PropTypes.number.isRequired,\n            points: PropTypes.arrayOf(PropTypes.object).isRequired,\n        })\n    ).isRequired,\n    axis: PropTypes.oneOf(['x', 'y']).isRequired,\n    debug: PropTypes.bool.isRequired,\n    height: PropTypes.number.isRequired,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    current: PropTypes.object,\n    setCurrent: PropTypes.func.isRequired,\n}\n\nexport default memo(Slices)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo } from 'react'\nimport PropTypes from 'prop-types'\nimport { getLabelGenerator, DotsItem, useTheme } from '@nivo/core'\n\nconst Points = ({ points, symbol, size, borderWidth, enableLabel, label, labelYOffset }) => {\n    const theme = useTheme()\n    const getLabel = getLabelGenerator(label)\n\n    /**\n     * We reverse the `points` array so that points from the lower lines in stacked lines\n     * graph are drawn on top. See https://github.com/plouc/nivo/issues/1051.\n     */\n    const mappedPoints = points.reverse().map(point => {\n        const mappedPoint = {\n            id: point.id,\n            x: point.x,\n            y: point.y,\n            datum: point.data,\n            fill: point.color,\n            stroke: point.borderColor,\n            label: enableLabel ? getLabel(point.data) : null,\n        }\n\n        return mappedPoint\n    })\n\n    return (\n        <g>\n            {mappedPoints.map(point => (\n                <DotsItem\n                    key={point.id}\n                    x={point.x}\n                    y={point.y}\n                    datum={point.datum}\n                    symbol={symbol}\n                    size={size}\n                    color={point.fill}\n                    borderWidth={borderWidth}\n                    borderColor={point.stroke}\n                    label={point.label}\n                    labelYOffset={labelYOffset}\n                    theme={theme}\n                />\n            ))}\n        </g>\n    )\n}\n\nPoints.propTypes = {\n    points: PropTypes.arrayOf(PropTypes.object),\n    symbol: PropTypes.func,\n    size: PropTypes.number.isRequired,\n    color: PropTypes.func.isRequired,\n    borderWidth: PropTypes.number.isRequired,\n    borderColor: PropTypes.func.isRequired,\n    enableLabel: PropTypes.bool.isRequired,\n    label: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\n    labelYOffset: PropTypes.number,\n}\n\nexport default memo(Points)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { memo, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTooltip } from '@nivo/tooltip'\nimport { Mesh as BaseMesh } from '@nivo/voronoi'\n\nconst Mesh = ({\n    points,\n    width,\n    height,\n    margin,\n    setCurrent,\n    onMouseEnter,\n    onMouseMove,\n    onMouseLeave,\n    onClick,\n    tooltip,\n    debug,\n}) => {\n    const { showTooltipAt, hideTooltip } = useTooltip()\n\n    const handleMouseEnter = useCallback(\n        (point, event) => {\n            showTooltipAt(\n                React.createElement(tooltip, { point }),\n                [point.x + margin.left, point.y + margin.top],\n                'top'\n            )\n            setCurrent(point)\n            onMouseEnter && onMouseEnter(point, event)\n        },\n        [setCurrent, showTooltipAt, tooltip, onMouseEnter, margin]\n    )\n\n    const handleMouseMove = useCallback(\n        (point, event) => {\n            showTooltipAt(\n                React.createElement(tooltip, { point }),\n                [point.x + margin.left, point.y + margin.top],\n                'top'\n            )\n            setCurrent(point)\n            onMouseMove && onMouseMove(point, event)\n        },\n        [setCurrent, showTooltipAt, tooltip, onMouseMove]\n    )\n\n    const handleMouseLeave = useCallback(\n        (point, event) => {\n            hideTooltip()\n            setCurrent(null)\n            onMouseLeave && onMouseLeave(point, event)\n        },\n        [hideTooltip, setCurrent, onMouseLeave]\n    )\n\n    const handleClick = useCallback(\n        (point, event) => {\n            onClick && onClick(point, event)\n        },\n        [onClick]\n    )\n\n    return (\n        <BaseMesh\n            nodes={points}\n            width={width}\n            height={height}\n            onMouseEnter={handleMouseEnter}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleMouseLeave}\n            onClick={handleClick}\n            debug={debug}\n        />\n    )\n}\n\nMesh.propTypes = {\n    points: PropTypes.arrayOf(PropTypes.object).isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    margin: PropTypes.object.isRequired,\n    setCurrent: PropTypes.func.isRequired,\n    onMouseEnter: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onClick: PropTypes.func,\n    tooltip: PropTypes.oneOfType([PropTypes.func, PropTypes.object]).isRequired,\n    debug: PropTypes.bool.isRequired,\n}\n\nexport default memo(Mesh)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { Fragment, useState, useMemo } from 'react'\nimport {\n    bindDefs,\n    withContainer,\n    useDimensions,\n    useTheme,\n    SvgWrapper,\n    CartesianMarkers,\n} from '@nivo/core'\nimport { useInheritedColor } from '@nivo/colors'\nimport { Axes, Grid } from '@nivo/axes'\nimport { BoxLegendSvg } from '@nivo/legends'\nimport { Crosshair } from '@nivo/tooltip'\nimport { useLine } from './hooks'\nimport { LinePropTypes, LineDefaultProps } from './props'\nimport Areas from './Areas'\nimport Lines from './Lines'\nimport Slices from './Slices'\nimport Points from './Points'\nimport Mesh from './Mesh'\n\nconst Line = props => {\n    const {\n        data,\n        xScale: xScaleSpec,\n        xFormat,\n        yScale: yScaleSpec,\n        yFormat,\n        layers,\n        curve,\n        areaBaselineValue,\n\n        colors,\n\n        margin: partialMargin,\n        width,\n        height,\n\n        axisTop,\n        axisRight,\n        axisBottom,\n        axisLeft,\n        enableGridX,\n        enableGridY,\n        gridXValues,\n        gridYValues,\n\n        lineWidth,\n        enableArea,\n        areaOpacity,\n        areaBlendMode,\n\n        enablePoints,\n        pointSymbol,\n        pointSize,\n        pointColor,\n        pointBorderWidth,\n        pointBorderColor,\n        enablePointLabel,\n        pointLabel,\n        pointLabelYOffset,\n\n        defs,\n        fill,\n\n        markers,\n\n        legends,\n\n        isInteractive,\n\n        useMesh,\n        debugMesh,\n\n        onMouseEnter,\n        onMouseMove,\n        onMouseLeave,\n        onClick,\n\n        tooltip,\n\n        enableSlices,\n        debugSlices,\n        sliceTooltip,\n\n        enableCrosshair,\n        crosshairType,\n\n        role,\n    } = props\n\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const { lineGenerator, areaGenerator, series, xScale, yScale, slices, points } = useLine({\n        data,\n        xScale: xScaleSpec,\n        xFormat,\n        yScale: yScaleSpec,\n        yFormat,\n        width: innerWidth,\n        height: innerHeight,\n        colors,\n        curve,\n        areaBaselineValue,\n        pointColor,\n        pointBorderColor,\n        enableSlices,\n    })\n\n    const theme = useTheme()\n    const getPointColor = useInheritedColor(pointColor, theme)\n    const getPointBorderColor = useInheritedColor(pointBorderColor, theme)\n\n    const [currentPoint, setCurrentPoint] = useState(null)\n    const [currentSlice, setCurrentSlice] = useState(null)\n\n    const legendData = useMemo(\n        () =>\n            series\n                .map(line => ({\n                    id: line.id,\n                    label: line.id,\n                    color: line.color,\n                }))\n                .reverse(),\n        [series]\n    )\n\n    const layerById = {\n        grid: (\n            <Grid\n                key=\"grid\"\n                theme={theme}\n                width={innerWidth}\n                height={innerHeight}\n                xScale={enableGridX ? xScale : null}\n                yScale={enableGridY ? yScale : null}\n                xValues={gridXValues}\n                yValues={gridYValues}\n            />\n        ),\n        markers: (\n            <CartesianMarkers\n                key=\"markers\"\n                markers={markers}\n                width={innerWidth}\n                height={innerHeight}\n                xScale={xScale}\n                yScale={yScale}\n                theme={theme}\n            />\n        ),\n        axes: (\n            <Axes\n                key=\"axes\"\n                xScale={xScale}\n                yScale={yScale}\n                width={innerWidth}\n                height={innerHeight}\n                theme={theme}\n                top={axisTop}\n                right={axisRight}\n                bottom={axisBottom}\n                left={axisLeft}\n            />\n        ),\n        areas: null,\n        lines: (\n            <Lines key=\"lines\" lines={series} lineGenerator={lineGenerator} lineWidth={lineWidth} />\n        ),\n        slices: null,\n        points: null,\n        crosshair: null,\n        mesh: null,\n        legends: legends.map((legend, i) => (\n            <BoxLegendSvg\n                key={`legend.${i}`}\n                {...legend}\n                containerWidth={innerWidth}\n                containerHeight={innerHeight}\n                data={legend.data || legendData}\n                theme={theme}\n            />\n        )),\n    }\n\n    const boundDefs = bindDefs(defs, series, fill)\n\n    if (enableArea) {\n        layerById.areas = (\n            <Areas\n                key=\"areas\"\n                areaGenerator={areaGenerator}\n                areaOpacity={areaOpacity}\n                areaBlendMode={areaBlendMode}\n                lines={series}\n            />\n        )\n    }\n\n    if (isInteractive && enableSlices !== false) {\n        layerById.slices = (\n            <Slices\n                key=\"slices\"\n                slices={slices}\n                axis={enableSlices}\n                debug={debugSlices}\n                height={innerHeight}\n                tooltip={sliceTooltip}\n                current={currentSlice}\n                setCurrent={setCurrentSlice}\n            />\n        )\n    }\n\n    if (enablePoints) {\n        layerById.points = (\n            <Points\n                key=\"points\"\n                points={points}\n                symbol={pointSymbol}\n                size={pointSize}\n                color={getPointColor}\n                borderWidth={pointBorderWidth}\n                borderColor={getPointBorderColor}\n                enableLabel={enablePointLabel}\n                label={pointLabel}\n                labelYOffset={pointLabelYOffset}\n            />\n        )\n    }\n\n    if (isInteractive && enableCrosshair) {\n        if (currentPoint !== null) {\n            layerById.crosshair = (\n                <Crosshair\n                    key=\"crosshair\"\n                    width={innerWidth}\n                    height={innerHeight}\n                    x={currentPoint.x}\n                    y={currentPoint.y}\n                    type={crosshairType}\n                />\n            )\n        }\n        if (currentSlice !== null) {\n            layerById.crosshair = (\n                <Crosshair\n                    key=\"crosshair\"\n                    width={innerWidth}\n                    height={innerHeight}\n                    x={currentSlice.x}\n                    y={currentSlice.y}\n                    type={enableSlices}\n                />\n            )\n        }\n    }\n\n    if (isInteractive && useMesh && enableSlices === false) {\n        layerById.mesh = (\n            <Mesh\n                key=\"mesh\"\n                points={points}\n                width={innerWidth}\n                height={innerHeight}\n                margin={margin}\n                current={currentPoint}\n                setCurrent={setCurrentPoint}\n                onMouseEnter={onMouseEnter}\n                onMouseMove={onMouseMove}\n                onMouseLeave={onMouseLeave}\n                onClick={onClick}\n                tooltip={tooltip}\n                debug={debugMesh}\n            />\n        )\n    }\n\n    return (\n        <SvgWrapper\n            defs={boundDefs}\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            role={role}\n        >\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return (\n                        <Fragment key={i}>\n                            {layer({\n                                ...props,\n                                innerWidth,\n                                innerHeight,\n                                series,\n                                slices,\n                                points,\n                                xScale,\n                                yScale,\n                                lineGenerator,\n                                areaGenerator,\n                                currentPoint,\n                                setCurrentPoint,\n                                currentSlice,\n                                setCurrentSlice,\n                            })}\n                        </Fragment>\n                    )\n                }\n\n                return layerById[layer]\n            })}\n        </SvgWrapper>\n    )\n}\n\nLine.propTypes = LinePropTypes\nLine.defaultProps = LineDefaultProps\n\nexport default withContainer(Line)\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport Line from './Line'\n\nconst ResponsiveLine = props => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Line width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n\nexport default ResponsiveLine\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { useRef, useEffect, useState, useCallback, forwardRef } from 'react'\nimport {\n    withContainer,\n    useDimensions,\n    useTheme,\n    getRelativeCursor,\n    isCursorInRect,\n} from '@nivo/core'\nimport { renderAxesToCanvas, renderGridLinesToCanvas } from '@nivo/axes'\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport { useTooltip } from '@nivo/tooltip'\nimport { useVoronoiMesh, renderVoronoiToCanvas, renderVoronoiCellToCanvas } from '@nivo/voronoi'\nimport { LineCanvasPropTypes, LineCanvasDefaultProps } from './props'\nimport { useLine } from './hooks'\n\nconst LineCanvas = ({\n    width,\n    height,\n    margin: partialMargin,\n    pixelRatio,\n\n    data,\n    xScale: xScaleSpec,\n    xFormat,\n    yScale: yScaleSpec,\n    yFormat,\n    curve,\n\n    layers,\n\n    colors,\n    lineWidth,\n\n    enableArea,\n    areaBaselineValue,\n    areaOpacity,\n\n    enablePoints,\n    pointSize,\n    pointColor,\n    pointBorderWidth,\n    pointBorderColor,\n\n    enableGridX,\n    gridXValues,\n    enableGridY,\n    gridYValues,\n    axisTop,\n    axisRight,\n    axisBottom,\n    axisLeft,\n\n    legends,\n\n    isInteractive,\n    debugMesh,\n    //onMouseEnter,\n    //onMouseMove,\n    onMouseLeave,\n    onClick,\n    tooltip,\n\n    canvasRef,\n}) => {\n    const canvasEl = useRef(null)\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n    const theme = useTheme()\n    const [currentPoint, setCurrentPoint] = useState(null)\n\n    const { lineGenerator, areaGenerator, series, xScale, yScale, points } = useLine({\n        data,\n        xScale: xScaleSpec,\n        xFormat,\n        yScale: yScaleSpec,\n        yFormat,\n        width: innerWidth,\n        height: innerHeight,\n        colors,\n        curve,\n        areaBaselineValue,\n        pointColor,\n        pointBorderColor,\n    })\n\n    const { delaunay, voronoi } = useVoronoiMesh({\n        points,\n        width: innerWidth,\n        height: innerHeight,\n        debug: debugMesh,\n    })\n\n    useEffect(() => {\n        if (canvasRef) {\n            canvasRef.current = canvasEl.current\n        }\n\n        canvasEl.current.width = outerWidth * pixelRatio\n        canvasEl.current.height = outerHeight * pixelRatio\n\n        const ctx = canvasEl.current.getContext('2d')\n\n        ctx.scale(pixelRatio, pixelRatio)\n\n        ctx.fillStyle = theme.background\n        ctx.fillRect(0, 0, outerWidth, outerHeight)\n        ctx.translate(margin.left, margin.top)\n\n        layers.forEach(layer => {\n            if (typeof layer === 'function') {\n                layer({\n                    ctx,\n                    innerWidth,\n                    innerHeight,\n                    series,\n                    points,\n                    xScale,\n                    yScale,\n                    lineWidth,\n                    lineGenerator,\n                    areaGenerator,\n                    currentPoint,\n                    setCurrentPoint,\n                })\n            }\n\n            if (layer === 'grid' && theme.grid.line.strokeWidth > 0) {\n                ctx.lineWidth = theme.grid.line.strokeWidth\n                ctx.strokeStyle = theme.grid.line.stroke\n\n                enableGridX &&\n                    renderGridLinesToCanvas(ctx, {\n                        width: innerWidth,\n                        height: innerHeight,\n                        scale: xScale,\n                        axis: 'x',\n                        values: gridXValues,\n                    })\n\n                enableGridY &&\n                    renderGridLinesToCanvas(ctx, {\n                        width: innerWidth,\n                        height: innerHeight,\n                        scale: yScale,\n                        axis: 'y',\n                        values: gridYValues,\n                    })\n            }\n\n            if (layer === 'axes') {\n                renderAxesToCanvas(ctx, {\n                    xScale,\n                    yScale,\n                    width: innerWidth,\n                    height: innerHeight,\n                    top: axisTop,\n                    right: axisRight,\n                    bottom: axisBottom,\n                    left: axisLeft,\n                    theme,\n                })\n            }\n\n            if (layer === 'areas' && enableArea === true) {\n                ctx.save()\n                ctx.globalAlpha = areaOpacity\n\n                areaGenerator.context(ctx)\n                series.forEach(serie => {\n                    ctx.fillStyle = serie.color\n                    ctx.beginPath()\n                    areaGenerator(serie.data.map(d => d.position))\n                    ctx.fill()\n                })\n\n                ctx.restore()\n            }\n\n            if (layer === 'lines') {\n                lineGenerator.context(ctx)\n                series.forEach(serie => {\n                    ctx.strokeStyle = serie.color\n                    ctx.lineWidth = lineWidth\n                    ctx.beginPath()\n                    lineGenerator(serie.data.map(d => d.position))\n                    ctx.stroke()\n                })\n            }\n\n            if (layer === 'points' && enablePoints === true && pointSize > 0) {\n                points.forEach(point => {\n                    ctx.fillStyle = point.color\n                    ctx.beginPath()\n                    ctx.arc(point.x, point.y, pointSize / 2, 0, 2 * Math.PI)\n                    ctx.fill()\n\n                    if (pointBorderWidth > 0) {\n                        ctx.strokeStyle = point.borderColor\n                        ctx.lineWidth = pointBorderWidth\n                        ctx.stroke()\n                    }\n                })\n            }\n\n            if (layer === 'mesh' && debugMesh === true) {\n                renderVoronoiToCanvas(ctx, voronoi)\n                if (currentPoint) {\n                    renderVoronoiCellToCanvas(ctx, voronoi, currentPoint.index)\n                }\n            }\n\n            if (layer === 'legends') {\n                const legendData = series\n                    .map(serie => ({\n                        id: serie.id,\n                        label: serie.id,\n                        color: serie.color,\n                    }))\n                    .reverse()\n\n                legends.forEach(legend => {\n                    renderLegendToCanvas(ctx, {\n                        ...legend,\n                        data: legend.data || legendData,\n                        containerWidth: innerWidth,\n                        containerHeight: innerHeight,\n                        theme,\n                    })\n                })\n            }\n        })\n    }, [\n        canvasEl,\n        outerWidth,\n        outerHeight,\n        layers,\n        theme,\n        lineGenerator,\n        series,\n        xScale,\n        yScale,\n        enableGridX,\n        gridXValues,\n        enableGridY,\n        gridYValues,\n        axisTop,\n        axisRight,\n        axisBottom,\n        axisLeft,\n        legends,\n        points,\n        enablePoints,\n        pointSize,\n        currentPoint,\n    ])\n\n    const getPointFromMouseEvent = useCallback(\n        event => {\n            const [x, y] = getRelativeCursor(canvasEl.current, event)\n            if (!isCursorInRect(margin.left, margin.top, innerWidth, innerHeight, x, y)) return null\n\n            const pointIndex = delaunay.find(x - margin.left, y - margin.top)\n            return points[pointIndex]\n        },\n        [canvasEl, margin, innerWidth, innerHeight, delaunay]\n    )\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleMouseHover = useCallback(\n        event => {\n            const point = getPointFromMouseEvent(event)\n            setCurrentPoint(point)\n\n            if (point) {\n                showTooltipFromEvent(React.createElement(tooltip, { point }), event)\n            } else {\n                hideTooltip()\n            }\n        },\n        [getPointFromMouseEvent, setCurrentPoint, showTooltipFromEvent, hideTooltip, tooltip]\n    )\n\n    const handleMouseLeave = useCallback(\n        event => {\n            hideTooltip()\n            setCurrentPoint(null)\n            currentPoint && onMouseLeave && onMouseLeave(currentPoint, event)\n        },\n        [hideTooltip, setCurrentPoint, onMouseLeave]\n    )\n\n    const handleClick = useCallback(\n        event => {\n            if (onClick) {\n                const point = getPointFromMouseEvent(event)\n                point && onClick(point, event)\n            }\n        },\n        [getPointFromMouseEvent, onClick]\n    )\n\n    return (\n        <canvas\n            ref={canvasEl}\n            width={outerWidth * pixelRatio}\n            height={outerHeight * pixelRatio}\n            style={{\n                width: outerWidth,\n                height: outerHeight,\n                cursor: isInteractive ? 'auto' : 'normal',\n            }}\n            onMouseEnter={isInteractive ? handleMouseHover : undefined}\n            onMouseMove={isInteractive ? handleMouseHover : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n        />\n    )\n}\n\nLineCanvas.propTypes = LineCanvasPropTypes\nLineCanvas.defaultProps = LineCanvasDefaultProps\n\nconst LineCanvasWithContainer = withContainer(LineCanvas)\n\nexport default forwardRef((props, ref) => <LineCanvasWithContainer {...props} canvasRef={ref} />)\n","import { Delaunay, Voronoi } from 'd3-delaunay'\n\nexport const renderVoronoiToCanvas = (\n    ctx: CanvasRenderingContext2D,\n    voronoi: Voronoi<Delaunay.Point>\n) => {\n    ctx.save()\n\n    ctx.globalAlpha = 0.75\n    ctx.beginPath()\n    voronoi.render(ctx)\n    ctx.strokeStyle = 'red'\n    ctx.lineWidth = 1\n    ctx.stroke()\n\n    ctx.restore()\n}\n\nexport const renderVoronoiCellToCanvas = (\n    ctx: CanvasRenderingContext2D,\n    voronoi: Voronoi<Delaunay.Point>,\n    index: number\n) => {\n    ctx.save()\n\n    ctx.globalAlpha = 0.35\n    ctx.beginPath()\n    voronoi.renderCell(index, ctx)\n    ctx.fillStyle = 'red'\n    ctx.fill()\n\n    ctx.restore()\n}\n","/*\n * This file is part of the nivo project.\n *\n * Copyright 2016-present, Raphaël Benitte.\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\nimport React, { forwardRef } from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\nimport LineCanvas from './LineCanvas'\n\nconst ResponsiveLineCanvas = (props, ref) => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <LineCanvas width={width} height={height} {...props} ref={ref} />}\n    </ResponsiveWrapper>\n)\n\nexport default forwardRef(ResponsiveLineCanvas)\n"],"sourceRoot":""}