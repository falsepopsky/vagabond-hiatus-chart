(self.webpackChunkvagabond_hiatus_chart=self.webpackChunkvagabond_hiatus_chart||[]).push([[948],{1948:function(e,t,n){"use strict";n.d(t,{fH:function(){return On}});var r=n(2791),i=n(5232),o=n(6706),a=n(8162),l=n(184),u=n(2007),s=n.n(u);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y={top:0,right:0,bottom:0,left:0},g=function(e){var t,n=e.direction,r=e.itemsSpacing,i=e.padding,o=e.itemCount,a=e.itemWidth,l=e.itemHeight;if("number"!==typeof i&&("object"!==typeof(t=i)||Array.isArray(t)||null===t))throw new Error("Invalid property padding, must be one of: number, object");var u="number"===typeof i?{top:i,right:i,bottom:i,left:i}:f(f({},y),i),s=u.left+u.right,c=u.top+u.bottom,h=a+s,d=l+c,v=(o-1)*r;return"row"===n?h=a*o+v+s:"column"===n&&(d=l*o+v+c),{width:h,height:d,padding:u}},m=function(e){var t=e.anchor,n=e.translateX,r=e.translateY,i=e.containerWidth,o=e.containerHeight,a=e.width,l=e.height,u=n,s=r;switch(t){case"top":u+=(i-a)/2;break;case"top-right":u+=i-a;break;case"right":u+=i-a,s+=(o-l)/2;break;case"bottom-right":u+=i-a,s+=o-l;break;case"bottom":u+=(i-a)/2,s+=o-l;break;case"bottom-left":s+=o-l;break;case"left":s+=(o-l)/2;break;case"center":u+=(i-a)/2,s+=(o-l)/2}return{x:u,y:s}},p=function(e){var t,n,r,i,o,a,l=e.direction,u=e.justify,s=e.symbolSize,c=e.symbolSpacing,h=e.width,f=e.height;switch(l){case"left-to-right":t=0,n=(f-s)/2,i=f/2,a="central",!0===u?(r=h,o="end"):(r=s+c,o="start");break;case"right-to-left":t=h-s,n=(f-s)/2,i=f/2,a="central",!0===u?(r=0,o="start"):(r=h-s-c,o="end");break;case"top-to-bottom":t=(h-s)/2,n=0,r=h/2,o="middle",!0===u?(i=f,a="alphabetic"):(i=s+c,a="text-before-edge");break;case"bottom-to-top":t=(h-s)/2,n=f-s,r=h/2,o="middle",!0===u?(i=0,a="text-before-edge"):(i=f-s-c,a="alphabetic")}return{symbolX:t,symbolY:n,labelX:r,labelY:i,labelAnchor:o,labelAlignment:a}},b={circle:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,u=e.borderWidth,s=void 0===u?0:u,c=e.borderColor,h=void 0===c?"transparent":c;return(0,l.jsx)("circle",{r:r/2,cx:t+r/2,cy:n+r/2,fill:i,opacity:a,strokeWidth:s,stroke:h,style:{pointerEvents:"none"}})},diamond:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,u=e.borderWidth,s=void 0===u?0:u,c=e.borderColor,h=void 0===c?"transparent":c;return(0,l.jsx)("g",{transform:"translate(".concat(t,",").concat(n,")"),children:(0,l.jsx)("path",{d:"\n                    M".concat(r/2," 0\n                    L").concat(.8*r," ").concat(r/2,"\n                    L").concat(r/2," ").concat(r,"\n                    L").concat(.2*r," ").concat(r/2,"\n                    L").concat(r/2," 0\n                "),fill:i,opacity:a,strokeWidth:s,stroke:h,style:{pointerEvents:"none"}})})},square:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,u=e.borderWidth,s=void 0===u?0:u,c=e.borderColor,h=void 0===c?"transparent":c;return(0,l.jsx)("rect",{x:t,y:n,fill:i,opacity:a,strokeWidth:s,stroke:h,width:r,height:r,style:{pointerEvents:"none"}})},triangle:function(e){var t=e.x,n=e.y,r=e.size,i=e.fill,o=e.opacity,a=void 0===o?1:o,u=e.borderWidth,s=void 0===u?0:u,c=e.borderColor,h=void 0===c?"transparent":c;return(0,l.jsx)("g",{transform:"translate(".concat(t,",").concat(n,")"),children:(0,l.jsx)("path",{d:"\n                M".concat(r/2," 0\n                L").concat(r," ").concat(r,"\n                L0 ").concat(r,"\n                L").concat(r/2," 0\n            "),fill:i,opacity:a,strokeWidth:s,stroke:h,style:{pointerEvents:"none"}})})}},x=function(e){var t,n,o,a,u,s,c,h,d,y,g,m=e.x,x=e.y,_=e.width,k=e.height,w=e.data,S=e.direction,M=void 0===S?"left-to-right":S,O=e.justify,C=void 0!==O&&O,j=e.textColor,T=e.background,A=void 0===T?"transparent":T,P=e.opacity,B=void 0===P?1:P,E=e.symbolShape,W=void 0===E?"square":E,R=e.symbolSize,L=void 0===R?16:R,q=e.symbolSpacing,F=void 0===q?8:q,Z=e.symbolBorderWidth,I=void 0===Z?0:Z,D=e.symbolBorderColor,Y=void 0===D?"transparent":D,z=e.onClick,U=e.onMouseEnter,H=e.onMouseLeave,G=e.toggleSerie,V=e.effects,X=v((0,r.useState)({}),2),K=X[0],$=X[1],N=(0,i.Fg)(),J=(0,r.useCallback)((function(e){if(V){var t=V.filter((function(e){return"hover"===e.on})).reduce((function(e,t){return f(f({},e),t.style)}),{});$(t)}null===U||void 0===U||U(w,e)}),[U,w,V]),Q=(0,r.useCallback)((function(e){if(V){var t=V.filter((function(e){return"hover"!==e.on})).reduce((function(e,t){return f(f({},e),t.style)}),{});$(t)}null===H||void 0===H||H(w,e)}),[H,w,V]),ee=p({direction:M,justify:C,symbolSize:null!==(t=K.symbolSize)&&void 0!==t?t:L,symbolSpacing:F,width:_,height:k}),te=ee.symbolX,ne=ee.symbolY,re=ee.labelX,ie=ee.labelY,oe=ee.labelAnchor,ae=ee.labelAlignment,le=[z,U,H,G].some((function(e){return void 0!==e})),ue="function"===typeof W?W:b[W];return(0,l.jsxs)("g",{transform:"translate(".concat(m,",").concat(x,")"),style:{opacity:null!==(n=K.itemOpacity)&&void 0!==n?n:B},children:[(0,l.jsx)("rect",{width:_,height:k,fill:null!==(o=K.itemBackground)&&void 0!==o?o:A,style:{cursor:le?"pointer":"auto"},onClick:function(e){null===z||void 0===z||z(w,e),null===G||void 0===G||G(w.id)},onMouseEnter:J,onMouseLeave:Q}),(0,r.createElement)(ue,f({id:w.id,x:te,y:ne,size:null!==(a=K.symbolSize)&&void 0!==a?a:L,fill:null!==(u=null!==(s=w.fill)&&void 0!==s?s:w.color)&&void 0!==u?u:"black",borderWidth:null!==(c=K.symbolBorderWidth)&&void 0!==c?c:I,borderColor:null!==(h=K.symbolBorderColor)&&void 0!==h?h:Y},w.hidden?N.legends.hidden.symbol:void 0)),(0,l.jsx)("text",{textAnchor:oe,style:f(f({},N.legends.text),{},{fill:null!==(d=null!==(y=null!==(g=K.itemTextColor)&&void 0!==g?g:j)&&void 0!==y?y:N.legends.text.fill)&&void 0!==d?d:"black",dominantBaseline:ae,pointerEvents:"none",userSelect:"none"},w.hidden?N.legends.hidden.text:void 0),x:re,y:ie,children:w.label})]})},_=function(e){var t=e.data,n=e.x,r=e.y,i=e.direction,o=e.padding,a=void 0===o?0:o,u=e.justify,s=e.effects,c=e.itemWidth,h=e.itemHeight,f=e.itemDirection,d=void 0===f?"left-to-right":f,v=e.itemsSpacing,y=void 0===v?0:v,m=e.itemTextColor,p=e.itemBackground,b=void 0===p?"transparent":p,_=e.itemOpacity,k=void 0===_?1:_,w=e.symbolShape,S=e.symbolSize,M=e.symbolSpacing,O=e.symbolBorderWidth,C=e.symbolBorderColor,j=e.onClick,T=e.onMouseEnter,A=e.onMouseLeave,P=e.toggleSerie,B=g({itemCount:t.length,itemWidth:c,itemHeight:h,itemsSpacing:y,direction:i,padding:a}).padding,E="row"===i?c+y:0,W="column"===i?h+y:0;return(0,l.jsx)("g",{transform:"translate(".concat(n,",").concat(r,")"),children:t.map((function(e,t){return(0,l.jsx)(x,{data:e,x:t*E+B.left,y:t*W+B.top,width:c,height:h,direction:d,justify:u,effects:s,textColor:m,background:b,opacity:k,symbolShape:w,symbolSize:S,symbolSpacing:M,symbolBorderWidth:O,symbolBorderColor:C,onClick:j,onMouseEnter:T,onMouseLeave:A,toggleSerie:P},t)}))})},k=function(e){var t=e.data,n=e.containerWidth,r=e.containerHeight,i=e.translateX,o=void 0===i?0:i,a=e.translateY,u=void 0===a?0:a,s=e.anchor,c=e.direction,h=e.padding,f=void 0===h?0:h,d=e.justify,v=e.itemsSpacing,y=void 0===v?0:v,p=e.itemWidth,b=e.itemHeight,x=e.itemDirection,k=e.itemTextColor,w=e.itemBackground,S=e.itemOpacity,M=e.symbolShape,O=e.symbolSize,C=e.symbolSpacing,j=e.symbolBorderWidth,T=e.symbolBorderColor,A=e.onClick,P=e.onMouseEnter,B=e.onMouseLeave,E=e.toggleSerie,W=e.effects,R=g({itemCount:t.length,itemsSpacing:y,itemWidth:p,itemHeight:b,direction:c,padding:f}),L=R.width,q=R.height,F=m({anchor:s,translateX:o,translateY:u,containerWidth:n,containerHeight:r,width:L,height:q}),Z=F.x,I=F.y;return(0,l.jsx)(_,{data:t,x:Z,y:I,direction:c,padding:f,justify:d,effects:W,itemsSpacing:y,itemWidth:p,itemHeight:b,itemDirection:x,itemTextColor:k,itemBackground:w,itemOpacity:S,symbolShape:M,symbolSize:O,symbolSpacing:C,symbolBorderWidth:j,symbolBorderColor:T,onClick:A,onMouseEnter:P,onMouseLeave:B,toggleSerie:"boolean"===typeof E?void 0:E})},w={start:"left",middle:"center",end:"right"},S={data:s().arrayOf(s().object),anchor:s().oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:s().number,translateY:s().number,direction:s().oneOf(["row","column"]).isRequired,itemsSpacing:s().number,itemWidth:s().number.isRequired,itemHeight:s().number.isRequired,itemDirection:s().oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:s().string,itemBackground:s().string,itemOpacity:s().number,symbolShape:s().oneOfType([s().oneOf(["circle","diamond","square","triangle"]),s().func]),symbolSize:s().number,symbolSpacing:s().number,symbolBorderWidth:s().number,symbolBorderColor:s().string,onClick:s().func,onMouseEnter:s().func,onMouseLeave:s().func,effects:s().arrayOf(s().shape({on:s().oneOfType([s().oneOf(["hover"])]).isRequired,style:s().shape({itemTextColor:s().string,itemBackground:s().string,itemOpacity:s().number,symbolSize:s().number,symbolBorderWidth:s().number,symbolBorderColor:s().string}).isRequired}))},M=n(1153),O=Math.PI,C=2*O,j=1e-6,T=C-j;function A(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function P(){return new A}A.prototype=P.prototype={constructor:A,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,l=n-e,u=r-t,s=o-e,c=a-t,h=s*s+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>j)if(Math.abs(c*l-u*s)>j&&i){var f=n-o,d=r-a,v=l*l+u*u,y=f*f+d*d,g=Math.sqrt(v),m=Math.sqrt(h),p=i*Math.tan((O-Math.acos((v+h-y)/(2*g*m)))/2),b=p/m,x=p/g;Math.abs(b-1)>j&&(this._+="L"+(e+b*s)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>s*d)+","+(this._x1=e+x*l)+","+(this._y1=t+x*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),l=n*Math.sin(r),u=e+a,s=t+l,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+s:(Math.abs(this._x1-u)>j||Math.abs(this._y1-s)>j)&&(this._+="L"+u+","+s),n&&(h<0&&(h=h%C+C),h>T?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-l)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=s):h>j&&(this._+="A"+n+","+n+",0,"+ +(h>=O)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var B=P;function E(e){return function(){return e}}var W=n(8146);function R(e){return e[0]}function L(e){return e[1]}function q(){var e=R,t=L,n=E(!0),r=null,i=W.Z,o=null;function a(a){var l,u,s,c=a.length,h=!1;for(null==r&&(o=i(s=B())),l=0;l<=c;++l)!(l<c&&n(u=a[l],l,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(u,l,a),+t(u,l,a));if(s)return o=null,s+""||null}return a.x=function(t){return arguments.length?(e="function"===typeof t?t:E(+t),a):e},a.y=function(e){return arguments.length?(t="function"===typeof e?e:E(+e),a):t},a.defined=function(e){return arguments.length?(n="function"===typeof e?e:E(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}var F=n(2064),Z=n.n(F),I=n(6339),D=n.n(I),Y=n(4286),z=n.n(Y),U=n(5727),H=n.n(U),G=n(6609),V=n.n(G),X=n(985),K=n(7869),$=n(885);function N(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}var J=n(7924),Q=n(1354);function ee(){var e,t,n=(0,Q.Z)().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,l=!1,u=0,s=0,c=.5;function h(){var n=r().length,h=a<o,f=h?a:o,d=h?o:a;e=(d-f)/Math.max(1,n-u+2*s),l&&(e=Math.floor(e)),f+=(d-f-e*(n-u))*c,t=e*(1-u),l&&(f=Math.round(f),t=Math.round(t));var v=N(n).map((function(t){return f+e*t}));return i(h?v.reverse():v)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){var t,n;return arguments.length?(t=e,n=(0,$.Z)(t,2),o=n[0],a=n[1],o=+o,a=+a,h()):[o,a]},n.rangeRound=function(e){var t,n;return t=e,n=(0,$.Z)(t,2),o=n[0],a=n[1],o=+o,a=+a,l=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(l=!!e,h()):l},n.padding=function(e){return arguments.length?(u=Math.min(1,s=+e),h()):u},n.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),h()):u},n.paddingOuter=function(e){return arguments.length?(s=+e,h()):s},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),h()):c},n.copy=function(){return ee(r(),[o,a]).round(l).paddingInner(u).paddingOuter(s).align(c)},J.o.apply(h(),arguments)}function te(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return te(t())},e}var ne=n(2267),re=n(9571),ie=n(6243),oe=n(7914),ae=(0,oe.Z)((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),le=ae,ue=(ae.range,n(6817)),se=n(4527),ce=n(601),he=(0,oe.Z)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ce.Ym-e.getMinutes()*ce.yB)}),(function(e,t){e.setTime(+e+t*ce.Y2)}),(function(e,t){return(t-e)/ce.Y2}),(function(e){return e.getHours()})),fe=he,de=(he.range,(0,oe.Z)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*ce.Ym)}),(function(e,t){e.setTime(+e+t*ce.yB)}),(function(e,t){return(t-e)/ce.yB}),(function(e){return e.getMinutes()}))),ve=de,ye=(de.range,(0,oe.Z)((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*ce.Ym)}),(function(e,t){return(t-e)/ce.Ym}),(function(e){return e.getUTCSeconds()}))),ge=ye,me=(ye.range,(0,oe.Z)((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));me.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?(0,oe.Z)((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):me:null};var pe=me,be=(me.range,n(815));function xe(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}var _e=1e3,ke=6e4,we=36e5,Se=864e5,Me=2592e6,Oe=31536e6;function Ce(e){return new Date(e)}function je(e){return e instanceof Date?+e:+new Date(+e)}function Te(e,t,n,r,i,o,a,l,u){var s=(0,be.ZP)(),c=s.invert,h=s.domain,f=u(".%L"),d=u(":%S"),v=u("%I:%M"),y=u("%I %p"),g=u("%a %d"),m=u("%b %d"),p=u("%B"),b=u("%Y"),x=[[a,1,_e],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,ke],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,we],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Se],[r,2,1728e5],[n,1,6048e5],[t,1,Me],[t,3,7776e6],[e,1,Oe]];function _(l){return(a(l)<l?f:o(l)<l?d:i(l)<l?v:r(l)<l?y:t(l)<l?n(l)<l?g:m:e(l)<l?p:b)(l)}function k(t,n,r){if(null==t&&(t=10),"number"===typeof t){var i,o=Math.abs(r-n)/t,a=(0,ne.Z)((function(e){return e[2]})).right(x,o);return a===x.length?(i=(0,re.ly)(n/Oe,r/Oe,t),t=e):a?(i=(a=x[o/x[a-1][2]<x[a][2]/o?a-1:a])[1],t=a[0]):(i=Math.max((0,re.ly)(n,r,t),1),t=l),t.every(i)}return t}return s.invert=function(e){return new Date(c(e))},s.domain=function(e){return arguments.length?h(Array.from(e,je)):h().map(Ce)},s.ticks=function(e){var t,n=h(),r=n[0],i=n[n.length-1],o=i<r;return o&&(t=r,r=i,i=t),t=(t=k(e,r,i))?t.range(r,i+1):[],o?t.reverse():t},s.tickFormat=function(e,t){return null==t?_:u(t)},s.nice=function(e){var t=h();return(e=k(e,t[0],t[t.length-1]))?h(xe(t,e)):s},s.copy=function(){return(0,be.JG)(s,Te(e,t,n,r,i,o,a,l,u))},s}var Ae=n(3608),Pe=(0,oe.Z)((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),Be=Pe,Ee=(Pe.range,n(438)),We=n(7171),Re=(0,oe.Z)((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*ce.Y2)}),(function(e,t){return(t-e)/ce.Y2}),(function(e){return e.getUTCHours()})),Le=Re,qe=(Re.range,(0,oe.Z)((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*ce.yB)}),(function(e,t){return(t-e)/ce.yB}),(function(e){return e.getUTCMinutes()}))),Fe=qe;qe.range;var Ze=n(7027);function Ie(e){return Math.log(e)}function De(e){return Math.exp(e)}function Ye(e){return-Math.log(-e)}function ze(e){return-Math.exp(-e)}function Ue(e){return isFinite(e)?+("1e"+e):e<0?0:e}function He(e){return function(t){return-e(-t)}}function Ge(e){var t,n,r=e(Ie,De),i=r.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?Ue:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),i()[0]<0?(t=He(t),n=He(n),e(Ye,ze)):e(Ie,De),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),l=a[0],u=a[a.length-1];(r=u<l)&&(f=l,l=u,u=f);var s,c,h,f=t(l),d=t(u),v=null==e?10:+e,y=[];if(!(o%1)&&d-f<v){if(f=Math.floor(f),d=Math.ceil(d),l>0){for(;f<=d;++f)for(c=1,s=n(f);c<o;++c)if(!((h=s*c)<l)){if(h>u)break;y.push(h)}}else for(;f<=d;++f)for(c=o-1,s=n(f);c>=1;--c)if(!((h=s*c)<l)){if(h>u)break;y.push(h)}2*y.length<v&&(y=(0,re.ZP)(l,u,v))}else y=(0,re.ZP)(f,d,Math.min(d-f,v)).map(n);return r?y.reverse():y},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=(0,Ze.WU)(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(xe(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function Ve(){var e=Ge((0,be.l4)()).domain([1,10]);return e.copy=function(){return(0,be.JG)(e,Ve()).base(e.base())},J.o.apply(e,arguments),e}function Xe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Ke(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $e(e){var t=1,n=e(Xe(t),Ke(t));return n.constant=function(n){return arguments.length?e(Xe(t=+n),Ke(t)):t},(0,K.Q)(n)}function Ne(){var e=$e((0,be.l4)());return e.copy=function(){return(0,be.JG)(e,Ne()).constant(e.constant())},J.o.apply(e,arguments)}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e){return function(e){if(Array.isArray(e))return Je(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],it={millisecond:[],second:rt.slice(0,1),minute:rt.slice(0,2),hour:rt.slice(0,3),day:rt.slice(0,4),month:rt.slice(0,5),year:rt.slice(0,6)},ot=function(e){var t=e.format,n=void 0===t?"native":t,r=e.precision,i=void 0===r?"millisecond":r,o=e.useUTC,a=void 0===o||o,l=function(e){return function(t){return it[e].forEach((function(e){e(t)})),t}}(i);return function(e){if("native"===n||e instanceof Date)return l(e);var t=a?(0,X.wp)(n):(0,X.Z1)(n);return l(t(e))}},at=function(e,t,n){var r=function(){return te(ee.apply(null,arguments).paddingInner(1))}().range([0,n]).domain(t.all),i=r;return i.type="point",i},lt=function(e,t,n){var r,i,o=e.format,a=void 0===o?"native":o,l=e.precision,u=void 0===l?"millisecond":l,s=e.min,c=void 0===s?"auto":s,h=e.max,f=void 0===h?"auto":h,d=e.useUTC,v=void 0===d||d,y=e.nice,g=void 0!==y&&y,m=ot({format:a,precision:u,useUTC:v});r="auto"===c?m(t.min):"native"!==a?m(c):c,i="auto"===f?m(t.max):"native"!==a?m(f):f;var p=v?function(){return J.o.apply(Te(Ae.Z,Be,Ee.Ox,We.Z,Le,Fe,ge,pe,X.g0).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}():function(){return J.o.apply(Te(ie.Z,le,ue.OM,se.Z,fe,ve,ge,pe,X.i$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}();p.domain([r,i]).range([0,n]),!0===g?p.nice():"object"!==typeof g&&"number"!==typeof g||p.nice(g);var b=p;return b.type="time",b.useUTC=v,b},ut=function(e,t,n,r){var i,o=e.base,a=void 0===o?10:o,l=e.min,u=void 0===l?"auto":l,s=e.max,c=void 0===s?"auto":s;if(t.all.some((function(e){return 0===e})))throw new Error("a log scale domain must not include or cross zero");var h,f,d=!1;if(t.all.filter((function(e){return null!=e})).forEach((function(e){d||(void 0===i?i=Math.sign(e):Math.sign(e)!==i&&(d=!0))})),d)throw new Error("a log scale domain must be strictly-positive or strictly-negative");h="auto"===u?t.min:u,f="auto"===c?t.max:c;var v=Ve().domain([h,f]).rangeRound("x"===r?[0,n]:[n,0]).base(a).nice();return v.type="log",v},st=function(e,t,n,r){var i,o,a=e.constant,l=void 0===a?1:a,u=e.min,s=void 0===u?"auto":u,c=e.max,h=void 0===c?"auto":c,f=e.reverse,d=void 0!==f&&f;i="auto"===s?t.min:s,o="auto"===h?t.max:h;var v=Ne().constant(l).rangeRound("x"===r?[0,n]:[n,0]).nice();!0===d?v.domain([o,i]):v.domain([i,o]);var y=v;return y.type="symlog",y},ct=function(e,t){return e===t},ht=function(e,t){return e.getTime()===t.getTime()};function ft(e,t,n,r){switch(e.type){case"linear":return function(e,t,n,r){var i,o,a,l,u=e.min,s=void 0===u?0:u,c=e.max,h=void 0===c?"auto":c,f=e.stacked,d=void 0!==f&&f,v=e.reverse,y=void 0!==v&&v,g=e.clamp,m=void 0!==g&&g,p=e.nice,b=void 0!==p&&p;i="auto"===s?!0===d?null!==(o=t.minStacked)&&void 0!==o?o:0:t.min:s,a="auto"===h?!0===d?null!==(l=t.maxStacked)&&void 0!==l?l:0:t.max:h;var x=(0,K.Z)().rangeRound("x"===r?[0,n]:[n,0]).domain(y?[a,i]:[i,a]).clamp(m);!0===b?x.nice():"number"===typeof b&&x.nice(b);var _=x;return _.type="linear",_.stacked=d,_}(e,t,n,r);case"point":return at(0,t,n);case"band":return function(e,t,n,r){var i=e.round,o=void 0===i||i,a=ee().range("x"===r?[0,n]:[n,0]).domain(t.all).round(o);return a.type="band",a}(e,t,n,r);case"time":return lt(e,t,n);case"log":return ut(e,t,n,r);case"symlog":return st(e,t,n,r);default:throw new Error("invalid scale spec")}}var dt=function(e,t,n){return{x:vt(e,"x",t),y:vt(e,"y",n)}},vt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.getValue,o=void 0===i?function(e){return e.data[t]}:i,a=r.setValue,l=void 0===a?function(e,n){e.data[t]=n}:a;if("linear"===n.type)e.forEach((function(e){e.data.forEach((function(e){var t=o(e);t&&l(e,parseFloat(String(t)))}))}));else if("time"===n.type&&"native"!==n.format){var u=ot(n);e.forEach((function(e){e.data.forEach((function(e){var t=o(e);t&&l(e,u(t))}))}))}var s=[];switch(e.forEach((function(e){e.data.forEach((function(e){s.push(o(e))}))})),n.type){case"linear":var c=z()(Z()(s),(function(e){return e}));return{all:c,min:Math.min.apply(Math,Qe(c)),max:Math.max.apply(Math,Qe(c))};case"time":var h=D()(s,(function(e){return e.getTime()})).slice(0).sort((function(e,t){return t.getTime()-e.getTime()})).reverse();return{all:h,min:h[0],max:H()(h)};default:var f=Z()(s);return{all:f,min:f[0],max:H()(f)}}},yt=function(e,t,n){var r=function(e){return"x"===e?"y":"x"}(e),i=[];t[r].all.forEach((function(t){var o=V()(t)?ht:ct,a=[];n.forEach((function(n){var l=n.data.find((function(e){return o(e.data[r],t)})),u=null,s=null;if(void 0!==l){if(null!==(u=l.data[e])){var c=H()(a);void 0===c?s=u:null!==c&&(s=c+u)}l.data["".concat(e,"Stacked")]=s}a.push(s),null!==s&&i.push(s)}))})),t[e].minStacked=Math.min.apply(Math,i),t[e].maxStacked=Math.max.apply(Math,i)},gt=function(e,t){return yt("x",e,t)},mt=function(e,t){return yt("y",e,t)},pt=n(4753),bt=n(7762),xt=n(5671),_t=n(3144),kt=n(7757),wt=n.n(kt),St=Math.pow(2,-52),Mt=new Uint32Array(512),Ot=function(){function e(t){(0,xt.Z)(this,e);var n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return(0,_t.Z)(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,o=e.length>>1,a=1/0,l=1/0,u=-1/0,s=-1/0,c=0;c<o;c++){var h=e[2*c],f=e[2*c+1];h<a&&(a=h),f<l&&(l=f),h>u&&(u=h),f>s&&(s=f),this._ids[c]=c}for(var d,v,y,g=(a+u)/2,m=(l+s)/2,p=1/0,b=0;b<o;b++){var x=Ct(g,m,e[2*b],e[2*b+1]);x<p&&(d=b,p=x)}var _=e[2*d],k=e[2*d+1];p=1/0;for(var w=0;w<o;w++)if(w!==d){var S=Ct(_,k,e[2*w],e[2*w+1]);S<p&&S>0&&(v=w,p=S)}for(var M=e[2*v],O=e[2*v+1],C=1/0,j=0;j<o;j++)if(j!==d&&j!==v){var T=Pt(_,k,M,O,e[2*j],e[2*j+1]);T<C&&(y=j,C=T)}var A=e[2*y],P=e[2*y+1];if(C===1/0){for(var B=0;B<o;B++)this._dists[B]=e[2*B]-e[0]||e[2*B+1]-e[1];Bt(this._ids,this._dists,0,o-1);for(var E=new Uint32Array(o),W=0,R=0,L=-1/0;R<o;R++){var q=this._ids[R];this._dists[q]>L&&(E[W++]=q,L=this._dists[q])}return this.hull=E.subarray(0,W),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Tt(_,k,M,O,A,P)){var F=v,Z=M,I=O;v=y,M=A,O=P,y=F,A=Z,P=I}var D=function(e,t,n,r,i,o){var a=n-e,l=r-t,u=i-e,s=o-t,c=a*a+l*l,h=u*u+s*s,f=.5/(a*s-l*u);return{x:e+(s*c-l*h)*f,y:t+(a*h-u*c)*f}}(_,k,M,O,A,P);this._cx=D.x,this._cy=D.y;for(var Y=0;Y<o;Y++)this._dists[Y]=Ct(e[2*Y],e[2*Y+1],D.x,D.y);Bt(this._ids,this._dists,0,o-1),this._hullStart=d;var z=3;n[d]=t[y]=v,n[v]=t[d]=y,n[y]=t[v]=d,r[d]=0,r[v]=1,r[y]=2,i.fill(-1),i[this._hashKey(_,k)]=d,i[this._hashKey(M,O)]=v,i[this._hashKey(A,P)]=y,this.trianglesLen=0,this._addTriangle(d,v,y,-1,-1,-1);for(var U,H,G=0;G<this._ids.length;G++){var V=this._ids[G],X=e[2*V],K=e[2*V+1];if(!(G>0&&Math.abs(X-U)<=St&&Math.abs(K-H)<=St)&&(U=X,H=K,V!==d&&V!==v&&V!==y)){for(var $=0,N=0,J=this._hashKey(X,K);N<this._hashSize&&(-1===($=i[(J+N)%this._hashSize])||$===n[$]);N++);for(var Q=$=t[$],ee=void 0;ee=n[Q],!Tt(X,K,e[2*Q],e[2*Q+1],e[2*ee],e[2*ee+1]);)if((Q=ee)===$){Q=-1;break}if(-1!==Q){var te=this._addTriangle(Q,V,n[Q],-1,-1,r[Q]);r[V]=this._legalize(te+2),r[Q]=te,z++;for(var ne=n[Q];ee=n[ne],Tt(X,K,e[2*ne],e[2*ne+1],e[2*ee],e[2*ee+1]);)te=this._addTriangle(ne,V,ee,r[V],-1,r[ne]),r[V]=this._legalize(te+2),n[ne]=ne,z--,ne=ee;if(Q===$)for(;Tt(X,K,e[2*(ee=t[Q])],e[2*ee+1],e[2*Q],e[2*Q+1]);)te=this._addTriangle(ee,V,Q,-1,r[Q],r[ee]),this._legalize(te+2),r[ee]=te,n[Q]=Q,z--,Q=ee;this._hullStart=t[V]=Q,n[Q]=t[ne]=V,n[V]=ne,i[this._hashKey(X,K)]=V,i[this._hashKey(e[2*Q],e[2*Q+1])]=Q}}}this.hull=new Uint32Array(z);for(var re=0,ie=this._hullStart;re<z;re++)this.hull[re]=ie,ie=n[ie];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,i=0,o=0;;){var a=n[e],l=e-e%3;if(o=l+(e+2)%3,-1!==a){var u=a-a%3,s=l+(e+1)%3,c=u+(a+2)%3,h=t[o],f=t[e],d=t[s],v=t[c];if(At(r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*v],r[2*v+1])){t[e]=v,t[a]=h;var y=n[c];if(-1===y){var g=this._hullStart;do{if(this._hullTri[g]===c){this._hullTri[g]=e;break}g=this._hullPrev[g]}while(g!==this._hullStart)}this._link(e,y),this._link(a,n[o]),this._link(o,c);var m=u+(a+1)%3;i<Mt.length&&(Mt[i++]=m)}else{if(0===i)break;e=Mt[--i]}}else{if(0===i)break;e=Mt[--i]}}return o}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,i,o){var a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wt,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rt,i=t.length,o=new Float64Array(2*i),a=0;a<i;a++){var l=t[a];o[2*a]=n(l),o[2*a+1]=r(l)}return new e(o)}}]),e}();function Ct(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}function jt(e,t,n,r,i,o){var a=(r-t)*(i-e),l=(n-e)*(o-t);return Math.abs(a-l)>=33306690738754716e-32*Math.abs(a+l)?a-l:0}function Tt(e,t,n,r,i,o){return(jt(i,o,e,t,n,r)||jt(e,t,n,r,i,o)||jt(n,r,i,o,e,t))<0}function At(e,t,n,r,i,o,a,l){var u=e-a,s=t-l,c=n-a,h=r-l,f=i-a,d=o-l,v=c*c+h*h,y=f*f+d*d;return u*(h*y-v*d)-s*(c*y-v*f)+(u*u+s*s)*(c*d-h*f)<0}function Pt(e,t,n,r,i,o){var a=n-e,l=r-t,u=i-e,s=o-t,c=a*a+l*l,h=u*u+s*s,f=.5/(a*s-l*u),d=(s*c-l*h)*f,v=(a*h-u*c)*f;return d*d+v*v}function Bt(e,t,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var o=e[i],a=t[o],l=i-1;l>=n&&t[e[l]]>a;)e[l+1]=e[l--];e[l+1]=o}else{var u=n+1,s=r;Et(e,n+r>>1,u),t[e[n]]>t[e[r]]&&Et(e,n,r),t[e[u]]>t[e[r]]&&Et(e,u,r),t[e[n]]>t[e[u]]&&Et(e,n,u);for(var c=e[u],h=t[c];;){do{u++}while(t[e[u]]<h);do{s--}while(t[e[s]]>h);if(s<u)break;Et(e,u,s)}e[n+1]=e[s],e[s]=c,r-u+1>=s-n?(Bt(e,t,u,r),Bt(e,t,n,s-1)):(Bt(e,t,n,s-1),Bt(e,t,u,r))}}function Et(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Wt(e){return e[0]}function Rt(e){return e[1]}var Lt=1e-6,qt=function(){function e(){(0,xt.Z)(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return(0,_t.Z)(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>Lt||Math.abs(this._y1-i)>Lt)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),Ft=function(){function e(){(0,xt.Z)(this,e),this._=[]}return(0,_t.Z)(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),Zt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=(0,$.Z)(n,4),i=r[0],o=r[1],a=r[2],l=r[3];if((0,xt.Z)(this,e),!((a=+a)>=(i=+i))||!((l=+l)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=a,this.xmin=i,this.ymax=l,this.ymin=o,this._init()}return(0,_t.Z)(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,i=n.hull,o=n.triangles,a=this.vectors,l=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2),u=0,s=0,c=o.length;u<c;u+=3,s+=2){var h=2*o[u],f=2*o[u+1],d=2*o[u+2],v=r[h],y=r[h+1],g=r[f],m=r[f+1],p=r[d],b=r[d+1],x=g-v,_=m-y,k=p-v,w=b-y,S=x*x+_*_,M=k*k+w*w,O=2*(x*w-_*k);if(O)if(Math.abs(O)<1e-8)e=(v+p)/2,t=(y+b)/2;else{var C=1/O;e=v+(w*S-_*M)*C,t=y+(x*M-k*S)*C}else e=(v+p)/2-1e8*w,t=(y+b)/2+1e8*k;l[s]=e,l[s+1]=t}var j,T,A,P=i[i.length-1],B=4*P,E=r[2*P],W=r[2*P+1];a.fill(0);for(var R=0;R<i.length;++R)j=B,T=E,A=W,B=4*(P=i[R]),E=r[2*P],W=r[2*P+1],a[j+2]=a[B]=A-W,a[j+3]=a[B+1]=E-T}},{key:"render",value:function(e){var t=null==e?e=new qt:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,o=n.hull,a=this.circumcenters,l=this.vectors;if(o.length<=1)return null;for(var u=0,s=r.length;u<s;++u){var c=r[u];if(!(c<u)){var h=2*Math.floor(u/3),f=2*Math.floor(c/3),d=a[h],v=a[h+1],y=a[f],g=a[f+1];this._renderSegment(d,v,y,g,e)}}for(var m,p=o[o.length-1],b=0;b<o.length;++b){m=p,p=o[b];var x=2*Math.floor(i[p]/3),_=a[x],k=a[x+1],w=4*m,S=this._project(_,k,l[w+2],l[w+3]);S&&this._renderSegment(_,k,S[0],S[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new qt:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new qt:void 0,r=this._clip(e);if(null!==r&&r.length){t.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||t.lineTo(r[o],r[o+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:wt().mark((function e(){var t,n,r,i;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,r=t.length/2;case 2:if(!(n<r)){e.next=11;break}if(!(i=this.cellPolygon(n))){e.next=8;break}return i.index=n,e.next=8,i;case 8:++n,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new Ft;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,i){var o,a=this._regioncode(e,t),l=this._regioncode(n,r);0===a&&0===l?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,a,l))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:wt().mark((function e(t){var n,r,i,o,a,l,u,s,c;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}r=(0,bt.Z)(this.delaunay.neighbors(t)),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=25;break}if(o=i.value,!(a=this._clip(o))){e.next=23;break}l=0,u=n.length;case 10:if(!(l<u)){e.next=23;break}s=0,c=a.length;case 12:if(!(s<c)){e.next=20;break}if(n[l]!=a[s]||n[l+1]!=a[s+1]||n[(l+2)%u]!=a[(s+c-2)%c]||n[(l+3)%u]!=a[(s+c-1)%c]){e.next=17;break}return e.next=16,o;case 16:return e.abrupt("break",23);case 17:s+=2,e.next=12;break;case 20:l+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),r.e(e.t0);case 30:return e.prev=30,r.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,o=n.triangles,a=r[e];if(-1===a)return null;var l=[],u=a;do{var s=Math.floor(u/3);if(l.push(t[2*s],t[2*s+1]),o[u=u%3===2?u-2:u+1]!==e)break;u=i[u]}while(u!==a&&-1!==u);return l}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,i,o,a,l=t.length,u=null,s=t[l-2],c=t[l-1],h=this._regioncode(s,c),f=0;f<l;f+=2)if(n=s,r=c,s=t[f],c=t[f+1],i=h,h=this._regioncode(s,c),0===i&&0===h)o=a,a=0,u?u.push(s,c):u=[s,c];else{var d=void 0,v=void 0,y=void 0,g=void 0,m=void 0;if(0===i){if(null===(d=this._clipSegment(n,r,s,c,i,h)))continue;var p=d,b=(0,$.Z)(p,4);v=b[0],y=b[1],g=b[2],m=b[3]}else{if(null===(d=this._clipSegment(s,c,n,r,h,i)))continue;var x=d,_=(0,$.Z)(x,4);g=_[0],m=_[1],v=_[2],y=_[3],o=a,a=this._edgecode(v,y),o&&a&&this._edge(e,o,a,u,u.length),u?u.push(v,y):u=[v,y]}o=a,a=this._edgecode(g,m),o&&a&&this._edge(e,o,a,u,u.length),u?u.push(g,m):u=[g,m]}if(u)o=a,a=this._edgecode(u[0],u[1]),o&&a&&this._edge(e,o,a,u,u.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}},{key:"_clipSegment",value:function(e,t,n,r,i,o){for(;;){if(0===i&&0===o)return[e,t,n,r];if(i&o)return null;var a=void 0,l=void 0,u=i||o;8&u?(a=e+(n-e)*(this.ymax-t)/(r-t),l=this.ymax):4&u?(a=e+(n-e)*(this.ymin-t)/(r-t),l=this.ymin):2&u?(l=t+(r-t)*(this.xmax-e)/(n-e),a=this.xmax):(l=t+(r-t)*(this.xmin-e)/(n-e),a=this.xmin),i?(e=a,t=l,i=this._regioncode(e,t)):(n=a,r=l,o=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,i,o){var a,l=Array.from(t);if((a=this._project(l[0],l[1],n,r))&&l.unshift(a[0],a[1]),(a=this._project(l[l.length-2],l[l.length-1],i,o))&&l.push(a[0],a[1]),l=this._clipFinite(e,l))for(var u,s=0,c=l.length,h=this._edgecode(l[c-2],l[c-1]);s<c;s+=2)u=h,h=this._edgecode(l[s],l[s+1]),u&&h&&(s=this._edge(e,u,h,l,s),c=l.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}},{key:"_edge",value:function(e,t,n,r,i){for(;t!==n;){var o=void 0,a=void 0;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,a=this.ymin}r[i]===o&&r[i+1]===a||!this.contains(e,o,a)||(r.splice(i,0,o,a),i+=2)}if(r.length>4)for(var l=0;l<r.length;l+=2){var u=(l+2)%r.length,s=(l+4)%r.length;(r[l]===r[u]&&r[u]===r[s]||r[l+1]===r[u+1]&&r[u+1]===r[s+1])&&(r.splice(u,2),l-=2)}return i}},{key:"_project",value:function(e,t,n,r){var i,o,a,l=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<l&&(a=this.ymin,o=e+(l=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<l&&(a=this.ymax,o=e+(l=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<l&&(o=this.xmax,a=t+(l=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<l&&(o=this.xmin,a=t+(l=i)*r)}return[o,a]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),It=wt().mark(Xt),Dt=2*Math.PI,Yt=Math.pow;function zt(e){return e[0]}function Ut(e){return e[1]}function Ht(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var Gt=function(){function e(t){(0,xt.Z)(this,e),this._delaunator=new Ot(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return(0,_t.Z)(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var i=2*t[r],o=2*t[r+1],a=2*t[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],o=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]),a=0,l=t.length/2;a<l;++a){var u=Ht(t[2*a],t[2*a+1],o);t[2*a]=u[0],t[2*a+1]=u[1]}this._delaunator=new Ot(t)}else delete this.collinear;for(var s=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,h=this.triangles=this._delaunator.triangles,f=this.inedges.fill(-1),d=this._hullIndex.fill(-1),v=0,y=s.length;v<y;++v){var g=h[v%3===2?v-2:v+1];-1!==s[v]&&-1!==f[g]||(f[g]=v)}for(var m=0,p=c.length;m<p;++m)d[c[m]]=m;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],this.triangles[1]=c[1],this.triangles[2]=c[1],f[c[0]]=1,2===c.length&&(f[c[1]]=0))}},{key:"voronoi",value:function(e){return new Zt(this,e)}},{key:"neighbors",value:wt().mark((function e(t){var n,r,i,o,a,l,u,s,c,h,f;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,o=this.halfedges,a=this.triangles,!(l=this.collinear)){e.next=10;break}if(!((u=l.indexOf(t))>0)){e.next=6;break}return e.next=6,l[u-1];case 6:if(!(u<l.length-1)){e.next=9;break}return e.next=9,l[u+1];case 9:return e.abrupt("return");case 10:if(-1!==(s=n[t])){e.next=13;break}return e.abrupt("return");case 13:c=s,h=-1;case 14:return e.next=16,h=a[c];case 16:if(a[c=c%3===2?c-2:c+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(c=o[c])){e.next=26;break}if((f=r[(i[t]+1)%r.length])===h){e.next=25;break}return e.next=25,f;case 25:return e.abrupt("return");case 26:if(c!==s){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var r,i=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,l=this.triangles,u=this.points;if(-1===r[e]||!u.length)return(e+1)%(u.length>>1);var s=e,c=Yt(t-u[2*e],2)+Yt(n-u[2*e+1],2),h=r[e],f=h;do{var d=l[f],v=Yt(t-u[2*d],2)+Yt(n-u[2*d+1],2);if(v<c&&(c=v,s=d),l[f=f%3===2?f-2:f+1]!==e)break;if(-1===(f=a[f])){if((f=i[(o[e]+1)%i.length])!==d&&Yt(t-u[2*f],2)+Yt(n-u[2*f+1],2)<c)return f;break}}while(f!==h);return s}},{key:"render",value:function(e){for(var t=null==e?e=new qt:void 0,n=this.points,r=this.halfedges,i=this.triangles,o=0,a=r.length;o<a;++o){var l=r[o];if(!(l<o)){var u=2*i[o],s=2*i[l];e.moveTo(n[u],n[u+1]),e.lineTo(n[s],n[s+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==e?e=new qt:void 0,r=this.points,i=0,o=r.length;i<o;i+=2){var a=r[i],l=r[i+1];e.moveTo(a+t,l),e.arc(a,l,t,0,Dt)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new qt:void 0,n=this.hull,r=this.points,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(var a=1;a<o;++a){var l=2*n[a];e.lineTo(r[l],r[l+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new Ft;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new qt:void 0,r=this.points,i=this.triangles,o=2*i[e*=3],a=2*i[e+1],l=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[a],r[a+1]),t.lineTo(r[l],r[l+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:wt().mark((function e(){var t,n,r;return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,r=t.length/3;case 2:if(!(n<r)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new Ft;return this.renderTriangle(e,t),t.value()}}],[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut,i=arguments.length>3?arguments[3]:void 0;return new e("length"in t?Vt(t,n,r,i):Float64Array.from(Xt(t,n,r,i)))}}]),e}();function Vt(e,t,n,r){for(var i=e.length,o=new Float64Array(2*i),a=0;a<i;++a){var l=e[a];o[2*a]=t.call(r,l,a,e),o[2*a+1]=n.call(r,l,a,e)}return o}function Xt(e,t,n,r){var i,o,a,l;return wt().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:i=0,o=(0,bt.Z)(e),u.prev=2,o.s();case 4:if((a=o.n()).done){u.next=13;break}return l=a.value,u.next=8,t.call(r,l,i,e);case 8:return u.next=10,n.call(r,l,i,e);case 10:++i;case 11:u.next=4;break;case 13:u.next=18;break;case 15:u.prev=15,u.t0=u.catch(2),o.e(u.t0);case 18:return u.prev=18,o.f(),u.finish(18);case 21:case"end":return u.stop()}}),It,null,[[2,15,18,21]])}var Kt=function(e){return"function"===typeof e?e:function(t){return t[e]}},$t=function(e){var t=e.points,n=e.x,i=e.y,o=e.width,a=e.height,l=e.debug,u=(0,r.useMemo)((function(){return function(e){var t=e.points,n=e.x,r=void 0===n?"x":n,i=e.y,o=void 0===i?"y":i,a=Kt(r),l=Kt(o);return t.map((function(e){return[a(e),l(e)]}))}({points:t,x:n,y:i})}),[t,n,i]);return(0,r.useMemo)((function(){return function(e){var t=e.points,n=e.width,r=e.height,i=e.debug,o=Gt.from(t),a=i?o.voronoi([0,0,n,r]):void 0;return{delaunay:o,voronoi:a}}({points:u,width:o,height:a,debug:l})}),[u,o,a,l])};function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Qt=function(e){var t=e.nodes,n=e.width,o=e.height,a=e.x,u=e.y,s=e.onMouseEnter,c=e.onMouseMove,h=e.onMouseLeave,f=e.onClick,d=e.debug,v=(0,r.useRef)(null),y=Jt((0,r.useState)(null),2),g=y[0],m=y[1],p=$t({points:t,x:a,y:u,width:n,height:o,debug:d}),b=p.delaunay,x=p.voronoi,_=(0,r.useMemo)((function(){if(d&&x)return x.render()}),[d,x]),k=(0,r.useCallback)((function(e){if(!v.current)return[null,null];var n=Jt((0,i.P6)(v.current,e),2),r=n[0],o=n[1],a=b.find(r,o);return[a,void 0!==a?t[a]:null]}),[v,b]),w=(0,r.useCallback)((function(e){var t=Jt(k(e),2),n=t[0],r=t[1];m(n),r&&(null===s||void 0===s||s(r,e))}),[k,m,s]),S=(0,r.useCallback)((function(e){var t=Jt(k(e),2),n=t[0],r=t[1];m(n),r&&(null===c||void 0===c||c(r,e))}),[k,m,c]),M=(0,r.useCallback)((function(e){if(m(null),h){var n=void 0;null!==g&&(n=t[g]),n&&h(n,e)}}),[m,g,h,t]),O=(0,r.useCallback)((function(e){var t=Jt(k(e),2),n=t[0],r=t[1];m(n),r&&(null===f||void 0===f||f(r,e))}),[k,m,f]);return(0,l.jsxs)("g",{ref:v,children:[d&&x&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:_,stroke:"red",strokeWidth:1,opacity:.75}),null!==g&&(0,l.jsx)("path",{fill:"pink",opacity:.35,d:x.renderCell(g)})]}),(0,l.jsx)("rect",{width:n,height:o,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:w,onMouseMove:S,onMouseLeave:M,onClick:O})]})};function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){en(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function on(e,t){if(e){if("string"===typeof e)return rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rn(e,t):void 0}}function an(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}}(e,t)||on(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(e){return function(e){if(Array.isArray(e))return rn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||on(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var un=(0,r.memo)((function(e){var t=e.point;return(0,l.jsx)(M._5,{id:(0,l.jsxs)("span",{children:["x: ",(0,l.jsx)("strong",{children:t.data.xFormatted}),", y:"," ",(0,l.jsx)("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})})),sn=(0,r.memo)((function(e){var t=e.slice,n=e.axis,r=(0,i.Fg)(),o="x"===n?"y":"x";return(0,l.jsx)(M.zI,{rows:t.points.map((function(e){return[(0,l.jsx)(M.Af,{color:e.serieColor,style:r.tooltip.chip},"chip"),e.serieId,(0,l.jsx)("span",{style:r.tooltip.tableCellValue,children:e.data["".concat(o,"Formatted")]},"value")]}))})})),cn={data:s().arrayOf(s().shape({id:s().oneOfType([s().string,s().number]).isRequired,data:s().arrayOf(s().shape({x:s().oneOfType([s().number,s().string,s().instanceOf(Date)]),y:s().oneOfType([s().number,s().string,s().instanceOf(Date)])})).isRequired})).isRequired,xScale:s().object.isRequired,xFormat:s().oneOfType([s().func,s().string]),yScale:s().object.isRequired,yFormat:s().oneOfType([s().func,s().string]),layers:s().arrayOf(s().oneOfType([s().oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),s().func])).isRequired,curve:i.VZ.isRequired,axisTop:a.VT,axisRight:a.VT,axisBottom:a.VT,axisLeft:a.VT,enableGridX:s().bool.isRequired,enableGridY:s().bool.isRequired,gridXValues:s().oneOfType([s().number,s().arrayOf(s().oneOfType([s().number,s().string,s().instanceOf(Date)]))]),gridYValues:s().oneOfType([s().number,s().arrayOf(s().oneOfType([s().number,s().string,s().instanceOf(Date)]))]),enablePoints:s().bool.isRequired,pointSymbol:s().func,pointSize:s().number.isRequired,pointColor:s().any.isRequired,pointBorderWidth:s().number.isRequired,pointBorderColor:s().any.isRequired,enablePointLabel:s().bool.isRequired,pointLabel:s().oneOfType([s().string,s().func]).isRequired,markers:s().arrayOf(s().shape({axis:s().oneOf(["x","y"]).isRequired,value:s().oneOfType([s().number,s().string,s().instanceOf(Date)]).isRequired,style:s().object})),colors:o.qi.isRequired,enableArea:s().bool.isRequired,areaOpacity:s().number.isRequired,areaBlendMode:i.wM.isRequired,areaBaselineValue:s().oneOfType([s().number,s().string,s().instanceOf(Date)]).isRequired,lineWidth:s().number.isRequired,legends:s().arrayOf(s().shape(S)).isRequired,isInteractive:s().bool.isRequired,debugMesh:s().bool.isRequired,tooltip:s().oneOfType([s().func,s().object]).isRequired,enableSlices:s().oneOf(["x","y",!1]).isRequired,debugSlices:s().bool.isRequired,sliceTooltip:s().oneOfType([s().func,s().object]).isRequired,enableCrosshair:s().bool.isRequired,crosshairType:s().string.isRequired},hn=(nn(nn(nn({},cn),{},{enablePointLabel:s().bool.isRequired,role:s().string.isRequired,useMesh:s().bool.isRequired},i.w$),i._U),nn({pixelRatio:s().number.isRequired},cn),{curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:un,enableSlices:!1,debugSlices:!1,sliceTooltip:sn,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"}),fn=nn(nn({},hn),{},{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),dn=nn(nn({},hn),{},{pixelRatio:"undefined"!==typeof window&&window.devicePixelRatio||1}),vn=function(e){var t=e.curve,n=e.yScale,o=e.areaBaselineValue;return(0,r.useMemo)((function(){return function(){var e=R,t=null,n=E(0),r=L,i=E(!0),o=null,a=W.Z,l=null;function u(u){var s,c,h,f,d,v=u.length,y=!1,g=new Array(v),m=new Array(v);for(null==o&&(l=a(d=B())),s=0;s<=v;++s){if(!(s<v&&i(f=u[s],s,u))===y)if(y=!y)c=s,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=s-1;h>=c;--h)l.point(g[h],m[h]);l.lineEnd(),l.areaEnd()}y&&(g[s]=+e(f,s,u),m[s]=+n(f,s,u),l.point(t?+t(f,s,u):g[s],r?+r(f,s,u):m[s]))}if(d)return l=null,d+""||null}function s(){return q().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(e="function"===typeof n?n:E(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:E(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"===typeof e?e:E(+e),u):t},u.y=function(e){return arguments.length?(n="function"===typeof e?e:E(+e),r=null,u):n},u.y0=function(e){return arguments.length?(n="function"===typeof e?e:E(+e),u):n},u.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:E(+e),u):r},u.lineX0=u.lineY0=function(){return s().x(e).y(n)},u.lineY1=function(){return s().x(e).y(r)},u.lineX1=function(){return s().x(t).y(n)},u.defined=function(e){return arguments.length?(i="function"===typeof e?e:E(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(l=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=l=null:l=a(o=e),u):o},u}().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve((0,i.Bg)(t)).y0(n(o))}),[t,n,o])},yn=function(e){var t=e.data,n=e.xScale,a=void 0===n?fn.xScale:n,l=e.xFormat,u=e.yScale,s=void 0===u?fn.yScale:u,c=e.yFormat,h=e.width,f=e.height,d=e.colors,v=void 0===d?fn.colors:d,y=e.curve,g=void 0===y?fn.curve:y,m=e.areaBaselineValue,p=void 0===m?fn.areaBaselineValue:m,b=e.pointColor,x=void 0===b?fn.pointColor:b,_=e.pointBorderColor,k=void 0===_?fn.pointBorderColor:_,w=e.enableSlices,S=void 0===w?fn.enableSlicesTooltip:w,M=(0,i.O_)(l),O=(0,i.O_)(c),C=(0,o.U)(v,"id"),j=(0,i.Fg)(),T=(0,o.Bf)(x,j),A=(0,o.Bf)(k,j),P=an((0,r.useState)([]),2),B=P[0],E=P[1],W=(0,r.useMemo)((function(){return function(e,t,n,r,i){var o=e.map((function(e){return nt(nt({},e),{},{data:e.data.map((function(e){return{data:nt({},e)}}))})})),a=dt(o,t,n);"stacked"in t&&!0===t.stacked&&gt(a,o),"stacked"in n&&!0===n.stacked&&mt(a,o);var l=ft(t,a.x,r,"x"),u=ft(n,a.y,i,"y");return o.forEach((function(e){e.data.forEach((function(e){var t,n;e.position={x:"stacked"in l&&!0===l.stacked?null===e.data.xStacked?null:l(e.data.xStacked):null===e.data.x?null:null!==(t=l(e.data.x))&&void 0!==t?t:null,y:"stacked"in u&&!0===u.stacked?null===e.data.yStacked?null:u(e.data.yStacked):null===e.data.y?null:null!==(n=u(e.data.y))&&void 0!==n?n:null}}))})),nt(nt({},a),{},{series:o,xScale:l,yScale:u})}(t.filter((function(e){return-1===B.indexOf(e.id)})),a,s,h,f)}),[t,B,a,s,h,f]),R=W.xScale,L=W.yScale,F=W.series,Z=(0,r.useMemo)((function(){var e=t.map((function(e){return{id:e.id,label:e.id,color:C(e)}})),n=e.map((function(e){return nn(nn({},F.find((function(t){return t.id===e.id}))),{},{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return nn(nn({},e),{},{hidden:!n.find((function(t){return t.id===e.id}))})})).reverse(),series:n}}),[t,F,C]),I=Z.legendData,D=Z.series,Y=(0,r.useCallback)((function(e){E((function(t){return t.indexOf(e)>-1?t.filter((function(t){return t!==e})):[].concat(ln(t),[e])}))}),[]),z=function(e){var t=e.series,n=e.getPointColor,i=e.getPointBorderColor,o=e.formatX,a=e.formatY;return(0,r.useMemo)((function(){return t.reduce((function(e,t){return[].concat(ln(e),ln(t.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(r,l){var u={id:"".concat(t.id,".").concat(l),index:e.length+l,serieId:t.id,serieColor:t.color,x:r.position.x,y:r.position.y};return u.color=n(t),u.borderColor=i(u),u.data=nn(nn({},r.data),{},{xFormatted:o(r.data.x),yFormatted:a(r.data.y)}),u}))))}),[])}),[t,n,i,o,a])}({series:D,getPointColor:T,getPointBorderColor:A,formatX:M,formatY:O}),U=function(e){var t=e.enableSlices,n=e.points,i=e.width,o=e.height;return(0,r.useMemo)((function(){if(!1===t)return[];if("x"===t){var e=new Map;return n.forEach((function(t){null!==t.data.x&&null!==t.data.y&&(e.has(t.x)?e.get(t.x).push(t):e.set(t.x,[t]))})),Array.from(e.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,n){var r,a=an(e,2),l=a[0],u=a[1],s=n[t-1],c=n[t+1];return{id:l,x0:r=s?l-(l-s[0])/2:l,x:l,y0:0,y:0,width:c?l-r+(c[0]-l)/2:i-r,height:o,points:u.reverse()}}))}if("y"===t){var r=new Map;return n.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(r.has(e.y)?r.get(e.y).push(e):r.set(e.y,[e]))})),Array.from(r.entries()).sort((function(e,t){return e[0]-t[0]})).map((function(e,t,n){var r,a,l=an(e,2),u=l[0],s=l[1],c=n[t-1],h=n[t+1];return r=c?u-(u-c[0])/2:u,a=h?u-r+(h[0]-u)/2:o-r,{id:u,x0:0,x:0,y0:r,y:u,width:i,height:a,points:s.reverse()}}))}}),[t,n])}({enableSlices:S,points:z,width:h,height:f}),H=function(e){var t=e.curve;return(0,r.useMemo)((function(){return q().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve((0,i.Bg)(t))}),[t])}({curve:g});return{legendData:I,toggleSerie:Y,lineGenerator:H,areaGenerator:vn({curve:g,yScale:L,areaBaselineValue:p}),getColor:C,series:D,xScale:R,yScale:L,slices:U,points:z}},gn=function(e){var t=e.areaBlendMode,n=e.areaOpacity,r=e.color,o=e.fill,a=e.path,u=(0,i.tf)(),s=u.animate,c=u.config,h=(0,i.NS)(a),f=(0,pt.useSpring)({color:r,config:c,immediate:!s});return(0,l.jsx)(pt.q.path,{d:h,fill:o||f.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:t}})},mn=(0,r.memo)((function(e){var t=e.areaGenerator,n=e.areaOpacity,r=e.areaBlendMode,i=e.lines.slice(0).reverse();return(0,l.jsx)("g",{children:i.map((function(e){return(0,l.jsx)(gn,nn({path:t(e.data.map((function(e){return e.position})))},nn({areaOpacity:n,areaBlendMode:r},e)),e.id)}))})})),pn=(0,r.memo)((function(e){var t=e.lineGenerator,n=e.points,o=e.color,a=e.thickness,u=(0,r.useMemo)((function(){return t(n)}),[t,n]),s=(0,i.NS)(u);return(0,l.jsx)(pt.q.path,{d:s,fill:"none",strokeWidth:a,stroke:o})})),bn=(0,r.memo)((function(e){var t=e.lines,n=e.lineGenerator,r=e.lineWidth;return t.reverse().map((function(e){var t=e.id,i=e.data,o=e.color;return(0,l.jsx)(pn,{id:t,points:i.map((function(e){return e.position})),lineGenerator:n,color:o,thickness:r},t)}))})),xn=(0,r.memo)((function(e){var t=e.slice,n=e.axis,i=e.debug,o=e.tooltip,a=e.isCurrent,u=e.setCurrent,s=(0,M.lL)(),c=s.showTooltipFromEvent,h=s.hideTooltip,f=(0,r.useCallback)((function(e){c((0,r.createElement)(o,{slice:t,axis:n}),e,"right"),u(t)}),[c,o,t]),d=(0,r.useCallback)((function(e){c((0,r.createElement)(o,{slice:t,axis:n}),e,"right")}),[c,o,t]),v=(0,r.useCallback)((function(){h(),u(null)}),[h]);return(0,l.jsx)("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:i?1:0,strokeOpacity:.75,fill:"red",fillOpacity:a&&i?.35:0,onMouseEnter:f,onMouseMove:d,onMouseLeave:v})})),_n=(0,r.memo)((function(e){var t=e.slices,n=e.axis,r=e.debug,i=e.height,o=e.tooltip,a=e.current,u=e.setCurrent;return t.map((function(e){return(0,l.jsx)(xn,{slice:e,axis:n,debug:r,height:i,tooltip:o,setCurrent:u,isCurrent:null!==a&&a.id===e.id},e.id)}))})),kn=(0,r.memo)((function(e){var t=e.points,n=e.symbol,r=e.size,o=e.borderWidth,a=e.enableLabel,u=e.label,s=e.labelYOffset,c=(0,i.Fg)(),h=(0,i.ji)(u),f=t.reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:a?h(e.data):null}}));return(0,l.jsx)("g",{children:f.map((function(e){return(0,l.jsx)(i.F_,{x:e.x,y:e.y,datum:e.datum,symbol:n,size:r,color:e.fill,borderWidth:o,borderColor:e.stroke,label:e.label,labelYOffset:s,theme:c},e.id)}))})})),wn=(0,r.memo)((function(e){var t=e.points,n=e.width,i=e.height,o=e.margin,a=e.setCurrent,u=e.onMouseEnter,s=e.onMouseMove,c=e.onMouseLeave,h=e.onClick,f=e.tooltip,d=e.debug,v=(0,M.lL)(),y=v.showTooltipAt,g=v.hideTooltip,m=(0,r.useCallback)((function(e,t){y((0,r.createElement)(f,{point:e}),[e.x+o.left,e.y+o.top],"top"),a(e),u&&u(e,t)}),[a,y,f,u,o]),p=(0,r.useCallback)((function(e,t){y((0,r.createElement)(f,{point:e}),[e.x+o.left,e.y+o.top],"top"),a(e),s&&s(e,t)}),[a,y,f,s]),b=(0,r.useCallback)((function(e,t){g(),a(null),c&&c(e,t)}),[g,a,c]),x=(0,r.useCallback)((function(e,t){h&&h(e,t)}),[h]);return(0,l.jsx)(Qt,{nodes:t,width:n,height:i,onMouseEnter:m,onMouseMove:p,onMouseLeave:b,onClick:x,debug:d})})),Sn=function(e){var t=e.data,n=e.xScale,u=e.xFormat,s=e.yScale,c=e.yFormat,h=e.layers,f=e.curve,d=e.areaBaselineValue,v=e.colors,y=e.margin,g=e.width,m=e.height,p=e.axisTop,b=e.axisRight,x=e.axisBottom,_=e.axisLeft,w=e.enableGridX,S=e.enableGridY,O=e.gridXValues,C=e.gridYValues,j=e.lineWidth,T=e.enableArea,A=e.areaOpacity,P=e.areaBlendMode,B=e.enablePoints,E=e.pointSymbol,W=e.pointSize,R=e.pointColor,L=e.pointBorderWidth,q=e.pointBorderColor,F=e.enablePointLabel,Z=e.pointLabel,I=e.pointLabelYOffset,D=e.defs,Y=e.fill,z=e.markers,U=e.legends,H=e.isInteractive,G=e.useMesh,V=e.debugMesh,X=e.onMouseEnter,K=e.onMouseMove,$=e.onMouseLeave,N=e.onClick,J=e.tooltip,Q=e.enableSlices,ee=e.debugSlices,te=e.sliceTooltip,ne=e.enableCrosshair,re=e.crosshairType,ie=e.role,oe=(0,i.Bs)(g,m,y),ae=oe.margin,le=oe.innerWidth,ue=oe.innerHeight,se=oe.outerWidth,ce=oe.outerHeight,he=yn({data:t,xScale:n,xFormat:u,yScale:s,yFormat:c,width:le,height:ue,colors:v,curve:f,areaBaselineValue:d,pointColor:R,pointBorderColor:q,enableSlices:Q}),fe=he.legendData,de=he.toggleSerie,ve=he.lineGenerator,ye=he.areaGenerator,ge=he.series,me=he.xScale,pe=he.yScale,be=he.slices,xe=he.points,_e=(0,i.Fg)(),ke=(0,o.Bf)(R,_e),we=(0,o.Bf)(q,_e),Se=an((0,r.useState)(null),2),Me=Se[0],Oe=Se[1],Ce=an((0,r.useState)(null),2),je=Ce[0],Te=Ce[1],Ae={grid:(0,l.jsx)(a.rj,{theme:_e,width:le,height:ue,xScale:w?me:null,yScale:S?pe:null,xValues:O,yValues:C},"grid"),markers:(0,l.jsx)(i.TL,{markers:z,width:le,height:ue,xScale:me,yScale:pe,theme:_e},"markers"),axes:(0,l.jsx)(a.dk,{xScale:me,yScale:pe,width:le,height:ue,theme:_e,top:p,right:b,bottom:x,left:_},"axes"),areas:null,lines:(0,l.jsx)(bn,{lines:ge,lineGenerator:ve,lineWidth:j},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:U.map((function(e,t){return(0,l.jsx)(k,nn(nn({},e),{},{containerWidth:le,containerHeight:ue,data:e.data||fe,theme:_e,toggleSerie:e.toggleSerie?de:void 0}),"legend.".concat(t))}))},Pe=(0,i.yU)(D,ge,Y);return T&&(Ae.areas=(0,l.jsx)(mn,{areaGenerator:ye,areaOpacity:A,areaBlendMode:P,lines:ge},"areas")),H&&!1!==Q&&(Ae.slices=(0,l.jsx)(_n,{slices:be,axis:Q,debug:ee,height:ue,tooltip:te,current:je,setCurrent:Te},"slices")),B&&(Ae.points=(0,l.jsx)(kn,{points:xe,symbol:E,size:W,color:ke,borderWidth:L,borderColor:we,enableLabel:F,label:Z,labelYOffset:I},"points")),H&&ne&&(null!==Me&&(Ae.crosshair=(0,l.jsx)(M.YS,{width:le,height:ue,x:Me.x,y:Me.y,type:re},"crosshair")),null!==je&&(Ae.crosshair=(0,l.jsx)(M.YS,{width:le,height:ue,x:je.x,y:je.y,type:Q},"crosshair"))),H&&G&&!1===Q&&(Ae.mesh=(0,l.jsx)(wn,{points:xe,width:le,height:ue,margin:ae,current:Me,setCurrent:Oe,onMouseEnter:X,onMouseMove:K,onMouseLeave:$,onClick:N,tooltip:J,debug:V},"mesh")),(0,l.jsx)(i.tM,{defs:Pe,width:se,height:ce,margin:ae,role:ie,children:h.map((function(t,n){return"function"===typeof t?(0,l.jsx)(r.Fragment,{children:t(nn(nn({},e),{},{innerWidth:le,innerHeight:ue,series:ge,slices:be,points:xe,xScale:me,yScale:pe,lineGenerator:ve,areaGenerator:ye,currentPoint:Me,setCurrentPoint:Oe,currentSlice:je,setCurrentSlice:Te}))},n):Ae[t]}))})};Sn.defaultProps=fn;var Mn=(0,i.li)(Sn),On=function(e){return(0,l.jsx)(i.d,{children:function(t){var n=t.width,r=t.height;return(0,l.jsx)(Mn,nn({width:n,height:r},e))}})},Cn=function(e){var t=e.width,n=e.height,o=e.margin,u=e.pixelRatio,s=e.data,c=e.xScale,h=e.xFormat,f=e.yScale,d=e.yFormat,v=e.curve,y=e.layers,b=e.colors,x=e.lineWidth,_=e.enableArea,k=e.areaBaselineValue,S=e.areaOpacity,O=e.enablePoints,C=e.pointSize,j=e.pointColor,T=e.pointBorderWidth,A=e.pointBorderColor,P=e.enableGridX,B=e.gridXValues,E=e.enableGridY,W=e.gridYValues,R=e.axisTop,L=e.axisRight,q=e.axisBottom,F=e.axisLeft,Z=e.legends,I=e.isInteractive,D=e.debugMesh,Y=e.onMouseLeave,z=e.onClick,U=e.tooltip,H=e.canvasRef,G=(0,r.useRef)(null),V=(0,i.Bs)(t,n,o),X=V.margin,K=V.innerWidth,$=V.innerHeight,N=V.outerWidth,J=V.outerHeight,Q=(0,i.Fg)(),ee=an((0,r.useState)(null),2),te=ee[0],ne=ee[1],re=yn({data:s,xScale:c,xFormat:h,yScale:f,yFormat:d,width:K,height:$,colors:b,curve:v,areaBaselineValue:k,pointColor:j,pointBorderColor:A}),ie=re.lineGenerator,oe=re.areaGenerator,ae=re.series,le=re.xScale,ue=re.yScale,se=re.points,ce=$t({points:se,width:K,height:$,debug:D}),he=ce.delaunay,fe=ce.voronoi;(0,r.useEffect)((function(){H&&(H.current=G.current),G.current.width=N*u,G.current.height=J*u;var e=G.current.getContext("2d");e.scale(u,u),e.fillStyle=Q.background,e.fillRect(0,0,N,J),e.translate(X.left,X.top),y.forEach((function(t){if("function"===typeof t&&t({ctx:e,innerWidth:K,innerHeight:$,series:ae,points:se,xScale:le,yScale:ue,lineWidth:x,lineGenerator:ie,areaGenerator:oe,currentPoint:te,setCurrentPoint:ne}),"grid"===t&&Q.grid.line.strokeWidth>0&&(e.lineWidth=Q.grid.line.strokeWidth,e.strokeStyle=Q.grid.line.stroke,P&&(0,a.FA)(e,{width:K,height:$,scale:le,axis:"x",values:B}),E&&(0,a.FA)(e,{width:K,height:$,scale:ue,axis:"y",values:W})),"axes"===t&&(0,a.DZ)(e,{xScale:le,yScale:ue,width:K,height:$,top:R,right:L,bottom:q,left:F,theme:Q}),"areas"===t&&!0===_&&(e.save(),e.globalAlpha=S,oe.context(e),ae.forEach((function(t){e.fillStyle=t.color,e.beginPath(),oe(t.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===t&&(ie.context(e),ae.forEach((function(t){e.strokeStyle=t.color,e.lineWidth=x,e.beginPath(),ie(t.data.map((function(e){return e.position}))),e.stroke()}))),"points"===t&&!0===O&&C>0&&se.forEach((function(t){e.fillStyle=t.color,e.beginPath(),e.arc(t.x,t.y,C/2,0,2*Math.PI),e.fill(),T>0&&(e.strokeStyle=t.borderColor,e.lineWidth=T,e.stroke())})),"mesh"===t&&!0===D&&(function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()}(e,fe),te&&function(e,t,n){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(n,e),e.fillStyle="red",e.fill(),e.restore()}(e,fe,te.index)),"legends"===t){var n=ae.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();Z.forEach((function(t){!function(e,t){var n=t.data,r=t.containerWidth,i=t.containerHeight,o=t.translateX,a=void 0===o?0:o,l=t.translateY,u=void 0===l?0:l,s=t.anchor,c=t.direction,h=t.padding,f=void 0===h?0:h,d=t.justify,v=void 0!==d&&d,y=t.itemsSpacing,b=void 0===y?0:y,x=t.itemWidth,_=t.itemHeight,k=t.itemDirection,S=void 0===k?"left-to-right":k,M=t.itemTextColor,O=t.symbolSize,C=void 0===O?16:O,j=t.symbolSpacing,T=void 0===j?8:j,A=t.theme,P=g({itemCount:n.length,itemWidth:x,itemHeight:_,itemsSpacing:b,direction:c,padding:f}),B=P.width,E=P.height,W=P.padding,R=m({anchor:s,translateX:a,translateY:u,containerWidth:r,containerHeight:i,width:B,height:E}),L=R.x,q=R.y,F="row"===c?x+b:0,Z="column"===c?_+b:0;e.save(),e.translate(L,q),e.font="".concat(A.legends.text.fontSize,"px ").concat(A.legends.text.fontFamily||"sans-serif"),n.forEach((function(t,n){var r,i,o=n*F+W.left,a=n*Z+W.top,l=p({direction:S,justify:v,symbolSize:C,symbolSpacing:T,width:x,height:_}),u=l.symbolX,s=l.symbolY,c=l.labelX,h=l.labelY,f=l.labelAnchor,d=l.labelAlignment;e.fillStyle=null!==(r=t.color)&&void 0!==r?r:"black",e.fillRect(o+u,a+s,C,C),e.textAlign=w[f],"central"===d&&(e.textBaseline="middle"),e.fillStyle=null!==(i=null!==M&&void 0!==M?M:A.legends.text.fill)&&void 0!==i?i:"black",e.fillText(String(t.label),o+c,a+h)})),e.restore()}(e,nn(nn({},t),{},{data:t.data||n,containerWidth:K,containerHeight:$,theme:Q}))}))}}))}),[G,N,J,y,Q,ie,ae,le,ue,P,B,E,W,R,L,q,F,Z,se,O,C,te]);var de=(0,r.useCallback)((function(e){var t=an((0,i.P6)(G.current,e),2),n=t[0],r=t[1];if(!(0,i.zn)(X.left,X.top,K,$,n,r))return null;var o=he.find(n-X.left,r-X.top);return se[o]}),[G,X,K,$,he]),ve=(0,M.lL)(),ye=ve.showTooltipFromEvent,ge=ve.hideTooltip,me=(0,r.useCallback)((function(e){var t=de(e);ne(t),t?ye((0,r.createElement)(U,{point:t}),e):ge()}),[de,ne,ye,ge,U]),pe=(0,r.useCallback)((function(e){ge(),ne(null),te&&Y&&Y(te,e)}),[ge,ne,Y]),be=(0,r.useCallback)((function(e){if(z){var t=de(e);t&&z(t,e)}}),[de,z]);return(0,l.jsx)("canvas",{ref:G,width:N*u,height:J*u,style:{width:N,height:J,cursor:I?"auto":"normal"},onMouseEnter:I?me:void 0,onMouseMove:I?me:void 0,onMouseLeave:I?pe:void 0,onClick:I?be:void 0})};Cn.defaultProps=dn;var jn=(0,i.li)(Cn),Tn=(0,r.forwardRef)((function(e,t){return(0,l.jsx)(jn,nn(nn({},e),{},{canvasRef:t}))}));(0,r.forwardRef)((function(e,t){return(0,l.jsx)(i.d,{children:function(n){var r=n.width,i=n.height;return(0,l.jsx)(Tn,nn(nn({width:r,height:i},e),{},{ref:t}))}})}))},7927:function(e,t,n){var r=n(5358),i=n(7056)(r);e.exports=i},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},9931:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Date]"==r(e)}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,o){var a=n.length,l=a,u=!o;if(null==e)return!l;for(e=Object(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<l;){var c=(s=n[a])[0],h=e[c],f=s[1];if(u&&s[2]){if(void 0===h&&!(c in e))return!1}else{var d=new r;if(o)var v=o(h,f,c,e,t,d);if(!(void 0===v?i(f,h,3,o,d):v))return!1}}return!0}},6025:function(e,t,n){var r=n(7080),i=n(4322),o=n(2100),a=n(3629),l=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):l(e)}},3849:function(e,t,n){var r=n(7927),i=n(1473);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},7080:function(e,t,n){var r=n(8856),i=n(9091),o=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),o=n(5658),a=n(5823),l=n(5072),u=n(284),s=n(9793);e.exports=function(e,t){return a(e)&&l(t)?u(s(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},3226:function(e,t,n){var r=n(8950),i=n(8667),o=n(6025),a=n(3849),l=n(9179),u=n(6194),s=n(4480),c=n(2100),h=n(3629);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return h(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[c];var f=-1;t=r(t,u(o));var d=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++f,value:e}}));return l(d,(function(e,t){return s(e,t,n)}))}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},9179:function(e){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},9602:function(e,t,n){var r=n(692),i=n(9055),o=n(2683),a=n(75),l=n(7730),u=n(2230);e.exports=function(e,t,n){var s=-1,c=i,h=e.length,f=!0,d=[],v=d;if(n)f=!1,c=o;else if(h>=200){var y=t?null:l(e);if(y)return u(y);f=!1,c=a,v=new r}else v=t?[]:d;e:for(;++s<h;){var g=e[s],m=t?t(g):g;if(g=n||0!==g?g:0,f&&m===m){for(var p=v.length;p--;)if(v[p]===m)continue e;t&&v.push(m),d.push(g)}else c(v,m,n)||(v!==d&&v.push(m),d.push(g))}return d}},8558:function(e,t,n){var r=n(152);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,a=r(e),l=void 0!==t,u=null===t,s=t===t,c=r(t);if(!u&&!c&&!a&&e>t||a&&l&&s&&!u&&!c||i&&l&&s||!n&&s||!o)return 1;if(!i&&!a&&!c&&e<t||c&&n&&o&&!i&&!a||u&&n&&o||!l&&o||!s)return-1}return 0}},4480:function(e,t,n){var r=n(8558);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,l=o.length,u=n.length;++i<l;){var s=r(o[i],a[i]);if(s)return i>=u?s:s*("desc"==n[i]?-1:1)}return e.index-t.index}},7056:function(e,t,n){var r=n(1473);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,l=Object(n);(t?a--:++a<o)&&!1!==i(l[a],a,l););return n}}},7730:function(e,t,n){var r=n(3924),i=n(9694),o=n(2230),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},6609:function(e,t,n){var r=n(9931),i=n(6194),o=n(9494),a=o&&o.isDate,l=a?i(a):r;e.exports=l},9694:function(e){e.exports=function(){}},38:function(e,t,n){var r=n(9586),i=n(4084),o=n(5823),a=n(9793);e.exports=function(e){return o(e)?r(a(e)):i(e)}},4286:function(e,t,n){var r=n(5182),i=n(3226),o=n(8794),a=n(3195),l=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=l},2064:function(e,t,n){var r=n(9602);e.exports=function(e){return e&&e.length?r(e):[]}},6339:function(e,t,n){var r=n(6025),i=n(9602);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}}}]);
//# sourceMappingURL=948.444ec3e0.chunk.js.map